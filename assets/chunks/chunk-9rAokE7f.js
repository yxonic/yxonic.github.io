import{C as K,D as j,E as V,F as y,G as Q,H as E,I as D,J as Y,K as $,L as U,M as x,N as q}from"./chunk-zQavgIRI.js";function z(e){return Y()?($(e),!0):!1}function N(e){return typeof e=="function"?e():K(e)}const X=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Z=Object.prototype.toString,k=e=>Z.call(e)==="[object Object]",ee=()=>{};function te(e,t){function n(...r){return new Promise((o,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(s)})}return n}const H=e=>e();function ne(e=H){const t=y(!0);function n(){t.value=!1}function r(){t.value=!0}const o=(...s)=>{t.value&&e(...s)};return{isActive:Q(t),pause:n,resume:r,eventFilter:o}}function re(e){return e||D()}function oe(e,t,n={}){const{eventFilter:r=H,...o}=n;return E(e,te(r,t),o)}function ie(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:s,pause:u,resume:c,isActive:l}=ne(r);return{stop:oe(e,t,{...o,eventFilter:s}),pause:u,resume:c,isActive:l}}function C(e,t=!0,n){const r=re(n);r?j(e,r):t?e():V(e)}function A(e){var t;const n=N(e);return(t=n==null?void 0:n.$el)!=null?t:n}const b=X?window:void 0;function I(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=b):[t,n,r,o]=e,!t)return ee;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],u=()=>{s.forEach(f=>f()),s.length=0},c=(f,i,d,h)=>(f.addEventListener(i,d,h),()=>f.removeEventListener(i,d,h)),l=E(()=>[A(t),N(o)],([f,i])=>{if(u(),!f)return;const d=k(i)?{...i}:i;s.push(...n.flatMap(h=>r.map(m=>c(f,h,m,d))))},{immediate:!0,flush:"post"}),p=()=>{l(),u()};return z(p),p}function se(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function me(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=b,eventName:s="keydown",passive:u=!1,dedupe:c=!1}=r,l=se(t);return I(o,s,f=>{f.repeat&&N(c)||l(f)&&n(f)},u)}function ue(){const e=y(!1);return D()&&j(()=>{e.value=!0}),e}function R(e){const t=ue();return x(()=>(t.value,!!e()))}function ae(e,t={}){const{window:n=b}=t,r=R(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const s=y(!1),u=p=>{s.value=p.matches},c=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",u):o.removeListener(u))},l=q(()=>{r.value&&(c(),o=n.matchMedia(N(e)),"addEventListener"in o?o.addEventListener("change",u):o.addListener(u),s.value=o.matches)});return z(()=>{l(),c(),o=void 0}),s}const _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M="__vueuse_ssr_handlers__",ce=le();function le(){return M in _||(_[M]=_[M]||{}),_[M]}function fe(e,t){return ce[e]||t}function de(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const pe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},T="vueuse-storage";function we(e,t,n,r={}){var o;const{flush:s="pre",deep:u=!0,listenToStorageChanges:c=!0,writeDefaults:l=!0,mergeDefaults:p=!1,shallow:f,window:i=b,eventFilter:d,onError:h=a=>{console.error(a)},initOnMounted:m}=r,w=(f?U:y)(typeof t=="function"?t():t);if(!n)try{n=fe("getDefaultStorage",()=>{var a;return(a=b)==null?void 0:a.localStorage})()}catch(a){h(a)}if(!n)return w;const S=N(t),F=de(S),O=(o=r.serializer)!=null?o:pe[F],{pause:J,resume:L}=ie(w,()=>P(w.value),{flush:s,deep:u,eventFilter:d});return i&&c&&C(()=>{I(i,"storage",W),I(i,T,G),m&&W()}),m||W(),w;function P(a){try{if(a==null)n.removeItem(e);else{const v=O.write(a),g=n.getItem(e);g!==v&&(n.setItem(e,v),i&&i.dispatchEvent(new CustomEvent(T,{detail:{key:e,oldValue:g,newValue:v,storageArea:n}})))}}catch(v){h(v)}}function B(a){const v=a?a.newValue:n.getItem(e);if(v==null)return l&&S!=null&&n.setItem(e,O.write(S)),S;if(!a&&p){const g=O.read(v);return typeof p=="function"?p(g,S):F==="object"&&!Array.isArray(g)?{...S,...g}:g}else return typeof v!="string"?v:O.read(v)}function G(a){W(a.detail)}function W(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){w.value=S;return}if(!(a&&a.key!==e)){J();try{(a==null?void 0:a.newValue)!==O.write(w.value)&&(w.value=B(a))}catch(v){h(v)}finally{a?V(L):L()}}}}}function he(e,t,n={}){const{window:r=b,...o}=n;let s;const u=R(()=>r&&"ResizeObserver"in r),c=()=>{s&&(s.disconnect(),s=void 0)},l=x(()=>Array.isArray(e)?e.map(i=>A(i)):[A(e)]),p=E(l,i=>{if(c(),u.value&&r){s=new ResizeObserver(t);for(const d of i)d&&s.observe(d,o)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{c(),p()};return z(f),{isSupported:u,stop:f}}function ye(e,t={width:0,height:0},n={}){const{window:r=b,box:o="content-box"}=n,s=x(()=>{var i,d;return(d=(i=A(e))==null?void 0:i.namespaceURI)==null?void 0:d.includes("svg")}),u=y(t.width),c=y(t.height),{stop:l}=he(e,([i])=>{const d=o==="border-box"?i.borderBoxSize:o==="content-box"?i.contentBoxSize:i.devicePixelContentBoxSize;if(r&&s.value){const h=A(e);if(h){const m=r.getComputedStyle(h);u.value=Number.parseFloat(m.width),c.value=Number.parseFloat(m.height)}}else if(d){const h=Array.isArray(d)?d:[d];u.value=h.reduce((m,{inlineSize:w})=>m+w,0),c.value=h.reduce((m,{blockSize:w})=>m+w,0)}else u.value=i.contentRect.width,c.value=i.contentRect.height},n);C(()=>{const i=A(e);i&&(u.value="offsetWidth"in i?i.offsetWidth:t.width,c.value="offsetHeight"in i?i.offsetHeight:t.height)});const p=E(()=>A(e),i=>{u.value=i?t.width:0,c.value=i?t.height:0});function f(){l(),p()}return{width:u,height:c,stop:f}}function be(e={}){const{window:t=b,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:s=!0}=e,u=y(n),c=y(r),l=()=>{t&&(s?(u.value=t.innerWidth,c.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(l(),C(l),I("resize",l,{passive:!0}),o){const p=ae("(orientation: portrait)");E(p,()=>l())}return{width:u,height:c}}export{be as a,we as b,me as o,ye as u};
