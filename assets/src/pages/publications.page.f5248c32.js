import{o as B,c as P,F as Q,r as I,u as J,a as M,t as F,n as K,b as A,d as T}from"../../chunks/6432436b.js";var Y=[{id:"liu2019ekt",pdfLink:"http://staff.ustc.edu.cn/~huangzhy/files/papers/ZhenyaHuang-TKDE2021.pdf",codeLink:"https://github.com/bigdata-ustc/ekt",slidesLink:"http://staff.ustc.edu.cn/~huangzhy/files/slides/ZhenyaHuang-TKDE-slide.pdf",note:"IEEE~TKDE, CCF~A",specialNote:"ESI highly cited paper",bibtex:`@article{liu2019ekt,
  title     = {EKT: Exercise-aware Knowledge Tracing for Student Performance Prediction},
  author    = {Liu, Qi and Huang, Zhenya and Yin, Yu and Chen, Enhong and Xiong, Hui and Su, Yu and Hu, Guoping},
  journal   = {IEEE Transactions on Knowledge and Data Engineering},
  volume    = {33},
  number    = {1},
  pages     = {100--115},
  year      = {2019},
  publisher = {IEEE}
}
`},{id:"yin2019quesnet",codeLink:"https://github.com/yxonic/quesnet",note:"KDD~'19, CCF~A",bibtex:`@inproceedings{yin2019quesnet,
  title     = {QuesNet: A Unified Representation for Heterogeneous Test Questions},
  author    = {Yin, Yu and Liu, Qi and Huang, Zhenya and Chen, Enhong and Tong, Wei and Wang, Shijin and Su, Yu},
  booktitle = {Proceedings of the 25th ACM SIGKDD International Conference on Knowledge Discovery \\& Data Mining},
  pages     = {1328--1336},
  year      = {2019}
}
`},{id:"yin2018transcribing",codeLink:"https://github.com/yxonic/spotlight",note:"KDD~'18, CCF~A",bibtex:`@inproceedings{yin2018transcribing,
  title={Transcribing content from structural images with spotlight mechanism},
  author={Yin, Yu and Huang, Zhenya and Chen, Enhong and Liu, Qi and Zhang, Fuzheng and Xie, Xing and Hu, Guoping},
  booktitle={Proceedings of the 24th ACM SIGKDD International Conference on Knowledge Discovery \\& Data Mining},
  pages={2643--2652},
  year={2018}
}
`}],H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var R={},z={get exports(){return R},set exports(C){R=C}};(function(C,q){(function(k,t){C.exports=t()})(H,function(){return function(k){function t(a){if(c[a])return c[a].exports;var d=c[a]={i:a,l:!1,exports:{}};return k[a].call(d.exports,d,d.exports,t),d.l=!0,d.exports}var c={};return t.m=k,t.c=c,t.d=function(a,d,$){t.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:$})},t.n=function(a){var d=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(d,"a",d),d},t.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)},t.p="",t(t.s=17)}([function(k,t,c){function a(n,r){if(typeof n!="string")throw new Error("Expected to be string: "+JSON.stringify(r||n));return n}function d(n,r){if(n===void 0)throw new Error("Expected to be defined: "+JSON.stringify(r||n));return n}function $(n,r){if(!g(n))throw new Error("Expected to be array: "+JSON.stringify(r||n));return n}function g(n){return!!n&&n.constructor===Array}function h(n){return typeof n=="number"}function o(n){return typeof n=="string"}Object.defineProperty(t,"__esModule",{value:!0}),t.mustBeString=a,t.mustBeDefined=d,t.mustBeArray=$,t.isArray=g,t.isNumber=h,t.isString=o,t.flattenMyArray=function(n,r){r||(r=[]);for(var s=0,p=n.length;s<p;s++){var f=n[s];if(Array.isArray(f))for(var S=0,x=f.length;S<x;S++){var v=f[S];Array.isArray(v)?t.flattenMyArray(v,r):r.push(v)}else r.push(f)}return r}},function(k,t,c){function a(n){return n.type==="quotedstringwrapper"}function d(n){return n.type==="quotedstring"}var $=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var p in s)s.hasOwnProperty(p)&&(r[p]=s[p])};return function(r,s){function p(){this.constructor=r}n(r,s),r.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var g=c(4),h=function(n){function r(s,p){return n.call(this,"quotedstring",s,p)||this}return $(r,n),r}(g.BibStringComponent);t.QuotedString=h;var o=function(n){function r(s){return n.call(this,"quotedstringwrapper",s)||this}return $(r,n),r}(g.BibOuterStringComponent);t.OuterQuotedString=o,t.isOuterQuotedString=a,t.isQuotedString=d},function(k,t,c){function a(n){return n.type==="bracedstringwrapper"}function d(n){return n.type==="bracedstring"}var $=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var p in s)s.hasOwnProperty(p)&&(r[p]=s[p])};return function(r,s){function p(){this.constructor=r}n(r,s),r.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var g=c(4),h=function(n){function r(s,p){var f=n.call(this,"bracedstring",s,p)||this;return f.isSpecialCharacter=s===0&&p[0]==="\\",f}return $(r,n),r}(g.BibStringComponent);t.BracedString=h;var o=function(n){function r(s){return n.call(this,"bracedstringwrapper",s)||this}return $(r,n),r}(g.BibOuterStringComponent);t.OuterBracedString=o,t.isOuterBracedString=a,t.isBracedString=d},function(k,t,c){function a(l){return typeof l.braceDepth=="number"&&typeof l.type=="string"}function d(l){return l.type==="ContiguousSimpleString"&&b.isArray(l.data)}function $(l){return l.data.join("")}function g(l,i){if(b.isNumber(i)||b.isString(i))return i;if(x.isStringRef(i))return new x.StringRef(0,i.stringref);switch(b.mustBeString(i.type,i)){case"id":case"ws":case"number":return b.mustBeString(i.string);case"bracedstring":case"braced":if(!b.isArray(i.data))throw new Error("Expect array for data: "+JSON.stringify(i));return new v.BracedString(l,b.flattenMyArray(i.data).map(function(e){return g(l+1,e)}));case"quotedstring":if(!b.isArray(i.data))throw new Error("Expect array for data: "+JSON.stringify(i));var u=b.flattenMyArray(i.data);return new m.QuotedString(l,u.map(function(e){return g(l,e)}));default:throw new Error("Unexpected complex string type: "+i.type)}}function h(l){if(b.isString(l))return l;if(b.isNumber(l))return l+"";if(v.isBracedString(l)||m.isQuotedString(l)||m.isOuterQuotedString(l)||v.isOuterBracedString(l))return o(l.data);throw new Error(JSON.stringify(l))}function o(l){return l.map(h).join("")}function n(l,i){for(var u=[],e=0,y=l;e<y.length;e++){var _=y[e],E=r(_,i);b.isArray(E)?u=u.concat(E):u.push(E)}return u}function r(l,i){if(v.isBracedString(l))return l;if(m.isQuotedString(l)){var u=n(l.data,!0);return b.isArray(u)?i?u:w.concat(u).concat(w):i?u:['"',u,'"']}if(m.isOuterQuotedString(l))return n(l.data,!0);if(v.isOuterBracedString(l))return n(l.data,!1);if(b.isString(l)||b.isNumber(l))return l;throw x.isStringRef(l)?new Error("StringRef should be resolved at this point!"):new Error}function s(l){for(var i=[],u=0,e=l;u<e.length;u++){var y=e[u];if(b.isString(y)||b.isNumber(y))if(i.length<=0){var _={type:"ContiguousSimpleString",data:[y]};i.push(_)}else{var E=i[i.length-1];if(d(E))E.data.push(y);else{var _={type:"ContiguousSimpleString",data:[y]};i.push(_)}}else i.push(y)}return i}function p(l){return S(l,/\s+and\s+/g)}function f(l,i){return i===void 0&&(i=2),S(l,/\s*,\s*/g,i)}function S(l,i,u){for(var e=[],y=[],_=0,E=l;_<E.length;_++){var O=E[_];if(b.isString(O)&&(u===void 0||u>0)){var j=i.exec(O),N=0;if(j){do{var D=N;N=j.index+j[0].length,y.push(O.substring(D,j.index)),(u===void 0||u>0)&&(e.push(y),y=[],u!==void 0&&u>0&&u--),j=u===void 0||u>0?i.exec(O):void 0}while(j);N>0&&N<O.length&&y.push(O.substring(N))}else y.push(O)}else y.push(O)}return y.length>0&&e.push(y),e}Object.defineProperty(t,"__esModule",{value:!0});var x=c(5),v=c(2),m=c(1),b=c(0);t.isBibStringComponent=a,t.isContiguousSimpleString=d,t.joinContiguousSimpleStrings=$,t.parseStringComponent=g,t.toStringBibStringDatum=h,t.toStringBibStringData=o,t.flattenQuotedStrings=n;var w=['"'];t.globContiguousStrings=s,t.splitOnAnd=p,t.splitOnComma=f,t.splitOnPattern=S},function(k,t,c){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var r in n)n.hasOwnProperty(r)&&(o[r]=n[r])};return function(o,n){function r(){this.constructor=o}h(o,n),o.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var d=c(0),$=function(){function h(o,n,r){this.type=o,this.braceDepth=n,this.data=r}return h.isBibStringComponent=function(o){return typeof o.braceDepth=="number"&&typeof o.type=="string"},h.stringifyDatum=function(o){if(d.isString(o))return o;if(d.isNumber(o))return o.toString();if(h.isBibStringComponent(o))return o.stringify();throw new Error("Unexpected state")},h.prototype.stringify=function(){return this.data.map(h.stringifyDatum).join("")},h}();t.BibStringComponent=$;var g=function(h){function o(n,r){return h.call(this,n,0,r)||this}return a(o,h),o}($);t.BibOuterStringComponent=g},function(k,t,c){function a($){return typeof $.stringref=="string"}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function $(g,h){this.braceDepth=g,this.stringref=h}return $}();t.StringRef=d,t.isStringRef=a},function(k,t,c){function a(s){return typeof s.key=="string"&&s.value!==void 0}function d(s){if(a(s))return{key:s.key,value:$(s.value)};throw new Error("Was not a KeyVal: "+JSON.stringify(s))}function $(s){if(n.isNumber(s))return s;var p=n.mustBeArray(s.data);switch(s.type){case"quotedstringwrapper":return p.length===1&&n.isNumber(p[0])?p[0]:new o.OuterQuotedString(p.map(function(f){return r.parseStringComponent(0,f)}));case"bracedstringwrapper":return new h.OuterBracedString(p.map(function(f){return r.parseStringComponent(0,f)}));default:throw new Error("Unexpected value: "+JSON.stringify(s))}}function g(s){if(s)return n.isNumber(s)?s:s.stringify()}Object.defineProperty(t,"__esModule",{value:!0});var h=c(2),o=c(1),n=c(0),r=c(3);t.isKeyVal=a,t.newKeyVal=d,t.parseFieldValue=$,t.normalizeFieldValue=g},function(k,t,c){function a(b){var w=d(b),l=w.key,i=w.value;return new m(l,i)}function d(b){if(s.isKeyVal(b))return s.newKeyVal(b);if(b.type!=="string")throw new Error("Unexpected node: "+JSON.stringify(b));return d(b.data)}function $(b){var w={};return Object.keys(b).forEach(function(l){w[l]||(w[l]=h({},w,b,b[l]))}),w}function g(b,w,l,i){return b.data.map(function(u){if(x.isString(u)||x.isNumber(u))return u;if(p.isStringRef(u))return o(w,i,u,l);if(v.isBibStringComponent(u))return n(u,w,l,i);throw new Error})}function h(b,w,l,i){return x.isNumber(i)?i:S.isOuterBracedString(i)||f.isOuterQuotedString(i)?r(i,b,w,l):p.isStringRef(i)?o(b,l,i,w):i}function o(b,w,l,i){var u=l.stringref;if(b[u])throw new Error("Cycle detected: "+u);if(i[u])return i[u];if(!w[u])throw new Error('Unresolved reference: "'+l.stringref+'" ('+JSON.stringify(l)+")");return i[u]=h(Object.assign({},b,(e={},e[u]=!0,e)),i,w,w[u]),i[u];var e}function n(b,w,l,i){var u=g(b,w,l,i),e=b.braceDepth;if(f.isQuotedString(b))return new f.QuotedString(e,u);if(S.isBracedString(b))return new S.BracedString(e,u);if(f.isOuterQuotedString(b))return new f.OuterQuotedString(u);if(S.isOuterBracedString(b))return new S.OuterBracedString(u);throw new Error}function r(b,w,l,i){var u=n(b,w,l,i);if(!S.isOuterBracedString(u)&&!f.isOuterQuotedString(u))throw new Error;return u}Object.defineProperty(t,"__esModule",{value:!0});var s=c(6),p=c(5),f=c(1),S=c(2),x=c(0),v=c(3),m=function(){function b(w,l){this.type="string",this.key=w,this.value=l}return b}();t.BibStringEntry=m,t.newStringEntry=a,t.resolveStrings=$,t.resolveStringReferences=g,t.resolveStringReference=h,t.copyWithResolvedStringReferences=n,t.copyOuterWithResolvedStringReferences=r},function(k,t,c){function a(i){var u=m.toStringBibStringData(i);return u?u.charAt(0):""}function d(i){return i.length>0&&$(i[0])}function $(i){if(f.isString(i)){if(!i)return!1;var u=i.charAt(0);return u.toLowerCase()===u&&u.toUpperCase()!==u}if(S.isQuotedString(i))return!(!i.data||i.data.length<=0)&&$(i.data[0]);if(x.isStringRef(i)||S.isOuterQuotedString(i)||v.isOuterBracedString(i))throw new Error("Should not do this test on this type");return!1}function g(i){for(var u=m.splitOnPattern(i,b),e=-1,y=-1,_=-1,E=0;E<u.length-1;E++)d(u[E])&&(e<0&&(e=E),y=E+1);_=e>=0?e:u.length-1;var O=e>=0?o(u,e,y):[],j=o(u,0,_),N=o(u,Math.max(y,_),u.length);return new w(j,O,N,[])}function h(i,u){for(var e=m.splitOnPattern(i,b),y=m.splitOnPattern(u,b),_=-1,E=-1,O=0;O<e.length-1;O++)d(e[O])&&(_<0&&(_=O),E=O+1);var j=_>=0?o(e,0,E):[],N=y,D=o(e,Math.max(E,0));return new w(N,j,D,[])}function o(i,u,e){for(var y=[],_=u;_<(e===void 0?i.length:e);_++)y.push(i[_]);return y}function n(i,u,e){for(var y=m.splitOnPattern(i,b),_=m.splitOnPattern(e,b),E=m.splitOnPattern(u,b),O=-1,j=-1,N=0;N<y.length-1;N++)d(y[N])&&(O<0&&(O=N),j=N+1);var D=O>=0?o(y,0,j):[],W=o(y,Math.max(j,0));return new w(_,D,W,E)}function r(i){var u=m.splitOnComma(i);switch(u.length){case 1:return g(u[0]);case 2:return h(p(u[0]),p(u[1]));case 3:return n(p(u[0]),p(u[1]),p(u[2]));default:throw new Error("Could not parse author name: partitioned as "+JSON.stringify(u)+" in "+JSON.stringify(i))}}function s(i){return i!==void 0}function p(i){if(s(i))return i;throw new Error("???????")}Object.defineProperty(t,"__esModule",{value:!0});var f=c(0),S=c(1),x=c(5),v=c(2),m=c(3),b=/\s+/g,w=function(){function i(u,e,y,_){this.firstNames$=u,this.vons$=e,this.lastNames$=y,this.jrs$=_,this.initials=u.map(a),this.firstNames=u.map(m.toStringBibStringData),this.vons=e.map(m.toStringBibStringData),this.lastNames=y.map(m.toStringBibStringData),this.jrs=_.map(m.toStringBibStringData),this.id=this.firstNames.join("-")+"-"+this.vons.join("-")+"-"+this.lastNames.join("-")+"-"+this.jrs.join("-")}return i}();t.AuthorName=w,t.parseAuthorName=r;var l=function(){function i(u,e,y){this.first=u,this.von=e,this.last=y}return i}();t.Authorrr=l},function(k,t,c){function a(x){return r.parseAuthorName(x)}function d(x){return n.isNumber(x)?$([x]):$(x.data,s.isOuterQuotedString(x))}function $(x,v){var m=f.globContiguousStrings(f.flattenQuotedStrings(x,v)),b=m.map(function(w){return f.isContiguousSimpleString(w)?f.joinContiguousSimpleStrings(w):w});return f.splitOnAnd(b)}function g(x){if(!h(x))throw new Error;return x}function h(x){return n.isArray(x.authors$)&&x.type==="authors"}var o=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var b in m)m.hasOwnProperty(b)&&(v[b]=m[b])};return function(v,m){function b(){this.constructor=v}x(v,m),v.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=c(0),r=c(8),s=c(1),p=c(4),f=c(3),S=function(x){function v(m){var b=this,w=n.isNumber(m)?[m]:m.data;b=x.call(this,"authors",w)||this;var l=d(m);return b.authors$=l.map(function(i){return a(i)}),b}return o(v,x),v}(p.BibOuterStringComponent);t.Authors=S,t.determineAuthorNames$=d,t.mustBeAuthors=g,t.isAuthors=h},function(k,t,c){function a(n){return n.type==="comment"&&$.isArray(n.data)}function d(n){return $.flattenMyArray(n).map(o)}Object.defineProperty(t,"__esModule",{value:!0});var $=c(0),g=function(){function n(r){this.type="comment",this.data=r,this.string=r.join("")}return n.prototype.toString=function(){return this.string},n}();t.BibComment=g;var h=function(){function n(r,s){this.type=r,this.data=s,this.string=s.join("")}return n.prototype.toString=function(){return this.string},n}();t.CommentEntry=h,t.isBibComment=a;var o=function(n){return $.isString(n)?n:typeof n=="number"?n.toString():n.type==="@bib"?"@"+$.mustBeString(n.string):n.type==="escapedEntry"?"\\"+o(n.data):$.mustBeString(n.string)};t.flattenPlainText=d},function(k,t,c){function a(r){var s={};return Object.keys(r).forEach(function(p){s[p]=o.parseFieldValue(r[p])}),s}function d(r){return typeof r.type=="string"&&typeof r._id=="string"&&!!r.fields}function $(r,s){var p={},f=r.fields;return Object.keys(r.fields).forEach(function(S){var x=h.resolveStringReference({},p,s,f[S]);switch(S){case"author":p[S]=new g.Authors(x);break;case"title":p[S]=x;break;case"incollection":default:p[S]=x}}),new n(r.type,r._id,p)}Object.defineProperty(t,"__esModule",{value:!0});var g=c(9),h=c(7),o=c(6),n=function(){function r(s,p,f){this.type=s,this._id=p,this.fields=f,this.sortkey$="",this.title$=""}return r.prototype.getField=function(s){return this.fields[s.toLowerCase()]},r.prototype.getFieldAsString=function(s){var p=this.getField(s);return o.normalizeFieldValue(p)},r.prototype.getAuthors=function(){var s=this.fields.author;return s===void 0?s:g.mustBeAuthors(s)},r}();t.BibEntry=n,t.parseEntryFields=a,t.isBibEntry=d,t.processEntry=$},function(k,t,c){function a(o){return o.type==="preamble"&&!!o.data}function d(o){var n=g.parseBibEntriesAndNonEntries($.mustBeArray(o.data));return new h(n)}Object.defineProperty(t,"__esModule",{value:!0});var $=c(0),g=c(13),h=function(){function o(n){this.type="preamble",this.data=n,this.string=n.join("")}return o.prototype.toString=function(){return this.string},o}();t.Preamble=h,t.isPreamble=a,t.newPreambleNode=d},function(k,t,c){function a(v){if(!o.isArray(v.data)||v.type!=="NON_ENTRY")throw new Error;return new s.BibComment(s.flattenPlainText(v.data))}function d(v){switch(typeof v){case"object":var m=v.data;if(typeof m["@type"]=="string")return new r.BibEntry(m["@type"],m._id,r.parseEntryFields(m.fields));switch(o.mustBeString(m.type)){case"string":return f.newStringEntry(m);case"preamble":return p.newPreambleNode(m);default:throw new Error("Unexpected entry parsed: "+m.type)}default:throw new Error("Expected object as data for entry")}}function $(v){var m=new g.Parser(h.grammar.ParserRules,h.grammar.ParserStart);m.feed(new S.default(v).readTokens());var b=m.results,w=b[0];return new x(t.parseBibEntriesAndNonEntries(w))}Object.defineProperty(t,"__esModule",{value:!0});var g=c(19),h=c(20),o=c(0),n=c(6),r=c(11),s=c(10),p=c(12),f=c(7),S=c(21),x=function(){function v(m){var b=this;this.content=m,this.comments=m.filter(s.isBibComment).map(function(i){if(s.isBibComment(i))return i;throw new Error}),this.preambles_raw=m.filter(function(i){return p.isPreamble(i)}).map(function(i){if(p.isPreamble(i))return i;throw new Error}),this.preamble$=this.preambles_raw.map(function(i){return i.toString()}).join(`
`);var w={};this.content.forEach(function(i){if(n.isKeyVal(i)){if(w[i.key])throw new Error("String with id "+i.key+" was defined more than once");w[i.key]=i.value}}),this.strings_raw=w,this.strings$=f.resolveStrings(w),this.entries_raw=m.filter(function(i){return r.isBibEntry(i)}).map(function(i){if(r.isBibEntry(i))return i;throw new Error});var l={};this.entries_raw.forEach(function(i){var u=i._id.toLowerCase();if(l[u])throw new Error("Entry with id "+u+" was defined more than once");l[u]=r.processEntry(i,b.strings$)}),this.entries$=l}return v.prototype.getEntry=function(m){return this.entries$[m.toLowerCase()]},v}();t.BibFilePresenter=x,t.parseBibEntriesAndNonEntries=function(v){return v.map(function(m){switch(m.type){case"NON_ENTRY":return a(m);case"ENTRY":return d(m);default:throw new Error("Expected ENTRY or NON_ENTRY")}})},t.parseBibFile=$},function(k,t,c){function a(g,h){return{type:g,string:h}}function d(g){return t.specialChars.hasOwnProperty(g)}function $(g){return t.escapableChars.hasOwnProperty(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.newToken=a,t.specialChars={"@":!0,"(":!0,")":!0,"{":!0,"}":!0,"#":!0,"=":!0,",":!0,"\\":!0,'"':!0},t.isSpecialChar=d,t.escapableChars={"\\":!0,"@":!0,"{":!0,"}":!0},t.isEscapableChar=$},function(k,t,c){function a(g){return{type:"ws",string:g}}function d(g){return typeof g.string=="string"&&g.type===t.WS}function $(g){return t.singleWhitespaces.hasOwnProperty(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.WS="ws",t.newWhitespace=a,t.isWhitespace=d,t.singleWhitespaces={" ":!0,"	":!0,"\r":!0,"\n":!0},t.isSingleWhiteSpaceCharacter=$},function(k,t,c){function a($){return{type:"number",string:$}}function d($){return t.numericChars.hasOwnProperty($)}Object.defineProperty(t,"__esModule",{value:!0}),t.newNumber=a,t.numericChars={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},t.isNum=d},function(k,t,c){function a(d){for(var $ in d)t.hasOwnProperty($)||(t[$]=d[$])}Object.defineProperty(t,"__esModule",{value:!0}),a(c(8)),a(c(9)),a(c(18)),a(c(10)),a(c(11)),a(c(12)),a(c(7)),a(c(3)),a(c(4)),a(c(2)),a(c(1)),a(c(5)),a(c(6)),a(c(13)),a(c(0))},function(k,t,c){function a(o){return t.optionalFields.hasOwnProperty(o)}function d(o){return t.mandatoryFields.hasOwnProperty(o)}function $(o){return d(o)?t.mandatoryFields[o]:[]}function g(o){return a(o)?t.optionalFields[o]:[]}Object.defineProperty(t,"__esModule",{value:!0});var h=c(0);t.address="address",t.author="author",t.booktitle="booktitle",t.chapter="chapter",t.edition="edition",t.editor="editor",t.howpublished="howpublished",t.institution="institution",t.journal="journal",t.month="month",t.note="note",t.number="number",t.organization="organization",t.pages="pages",t.publisher="publisher",t.school="school",t.series="series",t.title="title",t.type="type",t.volume="volume",t.year="year",t.optionalFields={book:[["volume","number"],"series","address","edition","month","note"],booklet:["author","howpublished","address","address","month","year","note"],conference:["editor",["volume","number"],"series","pages","address","month","organization","publisher","note"],inproceedings:["editor",["volume","number"],t.series,"pages","address","month","organization","publisher","note"],inbook:["volume","number","series","type","address","edition","month","note"],incollection:["editor",["volume","number"],"series","type","chapter","pages","address","edition","month","note"],manual:["author","organization","year","address","edition","month","note"],mastersthesis:["type","address","month","note"],misc:[],phdthesis:["type","address","month","note"],proceedings:["editor",["volume","number"],"series","address","month","organization","publisher","note"],techreport:["type","address","number","month","note"],unpublished:["month","year"]},t.mandatoryFields={article:["author","title","year","journal"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],conference:["author","title","booktitle","year"],inproceedings:["author","title","booktitle","year"],inbook:[["author","editor"],"title",["chapter","pages"]],incollection:["author","title","booktitle","publisher","year"],manual:["title"],mastersthesis:["author","title","school","year"],misc:[["author","title","howpublished","year","month","note"]],phdthesis:["author","title","school","year"],proceedings:["year","title"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]},t.hasOptionalFields=a,t.hasMandatoryFields=d,t.getMandatoryFields=$,t.getOptionalFields=g,t.findError=function(o,n){var r=o.fields;if(h.isString(n)){if(!r[n])return new Error("Warning: expected "+o.type+" with id "+o._id+" to have the field: "+n)}else if(h.isArray(n)){var s=n.reduce(function(p,f){if(h.isString(f))return p&&r.hasOwnProperty(f);throw new Error},!0);if(!s)return new Error("Expected "+o.type+" with id "+o._id+" to have one of the following fields: "+n)}}},function(k,t){(function(c,a){typeof k=="object"&&k.exports?k.exports=a():c.nearley=a()})(this,function(){function c(o,n,r){return this.id=++c.highestId,this.name=o,this.symbols=n,this.postprocess=r,this}function a(o,n,r,s){this.rule=o,this.dot=n,this.reference=r,this.data=[],this.wantedBy=s,this.isComplete=this.dot===o.symbols.length}function d(o,n){this.grammar=o,this.index=n,this.states=[],this.wants={},this.scannable=[],this.completed={}}function $(o,n){this.rules=o,this.start=n||this.rules[0].name;var r=this.byName={};this.rules.forEach(function(s){r.hasOwnProperty(s.name)||(r[s.name]=[]),r[s.name].push(s)})}function g(){this.reset("")}function h(o,n,s){if(o instanceof $)var p=o,s=n;else var p=$.fromCompiled(o,n);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new g};for(var f in s||{})this.options[f]=s[f];this.lexer=this.options.lexer,this.lexerState=void 0;var S=new d(p,0);this.table=[S],S.wants[p.start]=[],S.predict(p.start),S.process(),this.current=0}return c.highestId=0,c.prototype.toString=function(o){function n(s){return s.literal?JSON.stringify(s.literal):s.type?"%"+s.type:s.toString()}var r=o===void 0?this.symbols.map(n).join(" "):this.symbols.slice(0,o).map(n).join(" ")+" ● "+this.symbols.slice(o).map(n).join(" ");return this.name+" → "+r},a.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},a.prototype.nextState=function(o){var n=new a(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=o,n.isComplete&&(n.data=n.build()),n},a.prototype.build=function(){var o=[],n=this;do o.push(n.right.data),n=n.left;while(n.left);return o.reverse(),o},a.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,h.fail))},d.prototype.process=function(o){for(var n=this.states,r=this.wants,s=this.completed,p=0;p<n.length;p++){var f=n[p];if(f.isComplete){if(f.finish(),f.data!==h.fail){for(var S=f.wantedBy,x=S.length;x--;){var v=S[x];this.complete(v,f)}if(f.reference===this.index){var m=f.rule.name;(this.completed[m]=this.completed[m]||[]).push(f)}}}else{var m=f.rule.symbols[f.dot];if(typeof m!="string"){this.scannable.push(f);continue}if(r[m]){if(r[m].push(f),s.hasOwnProperty(m))for(var b=s[m],x=0;x<b.length;x++){var w=b[x];this.complete(f,w)}}else r[m]=[f],this.predict(m)}}},d.prototype.predict=function(o){for(var n=this.grammar.byName[o]||[],r=0;r<n.length;r++){var s=n[r],p=this.wants[o],f=new a(s,0,this.index,p);this.states.push(f)}},d.prototype.complete=function(o,n){var r=n.rule.name;if(o.rule.symbols[o.dot]===r){var s=o.nextState(n);this.states.push(s)}},$.fromCompiled=function(s,n){var r=s.Lexer;s.ParserStart&&(n=s.ParserStart,s=s.ParserRules);var s=s.map(function(f){return new c(f.name,f.symbols,f.postprocess)}),p=new $(s,n);return p.lexer=r,p},g.prototype.reset=function(o,n){this.buffer=o,this.index=0,this.line=n?n.line:1,this.lastLineBreak=n?-n.col:0},g.prototype.next=function(){if(this.index<this.buffer.length){var o=this.buffer[this.index++];return o===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:o}}},g.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},g.prototype.formatError=function(o,n){var r=this.buffer;if(typeof r=="string"){var s=r.indexOf(`
`,this.index);s===-1&&(s=r.length);var p=r.substring(this.lastLineBreak,s),f=this.index-this.lastLineBreak;return n+=" at line "+this.line+" col "+f+`:

`,n+="  "+p+`
`,n+="  "+Array(f).join(" ")+"^"}return n+" at index "+(this.index-1)},h.fail={},h.prototype.feed=function(o){var n=this.lexer;n.reset(o,this.lexerState);for(var r;r=n.next();){var s=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var p=this.current+1,f=new d(this.grammar,p);this.table.push(f);for(var S=r.value,x=n.constructor===g?r.value:r,v=s.scannable,m=v.length;m--;){var b=v[m],w=b.rule.symbols[b.dot];if(w.test?w.test(x):w.type?w.type===r.type:w.literal===S){var l=b.nextState({data:x,token:r,isToken:!0,reference:p-1});f.states.push(l)}}if(f.process(),f.states.length===0){var i=this.lexer.formatError(r,"invalid syntax")+`
`;i+="Unexpected "+(r.type?r.type+" token: ":""),i+=JSON.stringify(r.value!==void 0?r.value:r)+`
`;var u=new Error(i);throw u.offset=this.current,u.token=r,u}this.options.keepHistory&&(s.lexerState=n.save()),this.current++}return s&&(this.lexerState=n.save()),this.results=this.finish(),this},h.prototype.save=function(){var o=this.table[this.current];return o.lexerState=this.lexerState,o},h.prototype.restore=function(o){var n=o.index;this.current=n,this.table[n]=o,this.table.splice(n+1),this.lexerState=o.lexerState,this.results=this.finish()},h.prototype.rewind=function(o){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[o])},h.prototype.finish=function(){var o=[],n=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(r){r.rule.name===n&&r.dot===r.rule.symbols.length&&r.reference===0&&r.data!==h.fail&&o.push(r)}),o.map(function(r){return r.data})},{Parser:h,Grammar:$,Rule:c}})},function(k,t,c){function a(e){return e[0]}function d(e,y){if(y.type!=="keyval")throw new Error("Expected a keyval object");var _=y.key.toLowerCase();return e.fields[_]?void 0:(e.fields[_]=y.value,e)}function $(e){for(var y=[],_=0;_<e.length;_++)if(typeof e[_]=="object"){if(!e[_].string)throw new Error("Expected token to have a string field called 'string' in object "+JSON.stringify(e[_]));y.push(e[_].string)}else{if(typeof e[_]!="string"&&typeof e[_]!="number")throw new Error("Could not handle token "+JSON.stringify(e[_])+" in array "+JSON.stringify(e));y.push(e[_])}return y.join("")}Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){return e.constructor===Number||typeof e=="object"&&e.type==="number"},h={test:function(e){return typeof e=="object"&&e.type==="id"}},o={test:function(e){return typeof e=="object"&&e.type==="@bib"}},n={test:function(e){return typeof e=="object"&&e.type==="@string"}},r={test:function(e){return typeof e=="object"&&e.type==="@preamble"}},s={test:function(e){return typeof e=="object"&&e.type==="@comment"}},p={test:function(e){return typeof e=="object"&&e.type==="ws"}},f={test:g},S={literal:"#"},x={literal:"="},v={literal:"\\"},m={literal:"("},b={literal:")"},w={literal:"{"},l={literal:"}"},i={literal:'"'},u={literal:","};t.grammar={Lexer:void 0,ParserRules:[{name:"main$ebnf$1",symbols:["non_entry"],postprocess:a},{name:"main$ebnf$1",symbols:[],postprocess:function(){}},{name:"main$ebnf$2",symbols:[]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["non_entry"],postprocess:a},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:[],postprocess:function(){}},{name:"main$ebnf$2$subexpression$1",symbols:["entry","main$ebnf$2$subexpression$1$ebnf$1"]},{name:"main$ebnf$2",symbols:["main$ebnf$2","main$ebnf$2$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"main",symbols:["main$ebnf$1","main$ebnf$2"],postprocess:function(e){var y=[];e[0]&&y.push({type:"NON_ENTRY",data:e[0]});for(var _=0;_<e[1].length;_++)y.push({type:"ENTRY",data:e[1][_][0]}),e[1][_][1]&&y.push({type:"NON_ENTRY",data:e[1][_][1]});return y}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",p],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"]},{name:"entry_decl$subexpression$1",symbols:[o]},{name:"entry_decl$subexpression$1",symbols:[n]},{name:"entry_decl$subexpression$1",symbols:[r]},{name:"entry_decl$subexpression$1",symbols:[s]},{name:"entry_decl",symbols:["entry_decl$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"entry$subexpression$1",symbols:["bib_entry"]},{name:"entry$subexpression$1",symbols:["string_entry"]},{name:"entry$subexpression$1",symbols:["preamble_entry"]},{name:"entry$subexpression$1",symbols:["comment_entry"]},{name:"entry",symbols:["entry$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"comment",symbols:["main"],postprocess:function(e){return e[0]}},{name:"comment_liberal$ebnf$1",symbols:[]},{name:"comment_liberal$ebnf$1$subexpression$1",symbols:[/./]},{name:"comment_liberal$ebnf$1",symbols:["comment_liberal$ebnf$1","comment_liberal$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"comment_liberal",symbols:["comment_liberal$ebnf$1"],postprocess:function(e){for(var y=[],_=0;_<e[0].length;_++)y.push(e[0][_][0]);return y}},{name:"entry_body_comment$subexpression$1$macrocall$2",symbols:["comment"]},{name:"entry_body_comment$subexpression$1$macrocall$1",symbols:[m,"entry_body_comment$subexpression$1$macrocall$2",b],postprocess:function(e){return e[1]}},{name:"entry_body_comment$subexpression$1",symbols:["entry_body_comment$subexpression$1$macrocall$1"]},{name:"entry_body_comment$subexpression$1$macrocall$4",symbols:["comment"]},{name:"entry_body_comment$subexpression$1$macrocall$3",symbols:[w,"entry_body_comment$subexpression$1$macrocall$4",l],postprocess:function(e){return e[1]}},{name:"entry_body_comment$subexpression$1",symbols:["entry_body_comment$subexpression$1$macrocall$3"]},{name:"entry_body_comment",symbols:["entry_body_comment$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"entry_body_string$subexpression$1$macrocall$2",symbols:["keyval"]},{name:"entry_body_string$subexpression$1$macrocall$1",symbols:[m,"_","entry_body_string$subexpression$1$macrocall$2","_",b],postprocess:function(e){return e[2]}},{name:"entry_body_string$subexpression$1",symbols:["entry_body_string$subexpression$1$macrocall$1"]},{name:"entry_body_string$subexpression$1$macrocall$4",symbols:["keyval"]},{name:"entry_body_string$subexpression$1$macrocall$3",symbols:[w,"_","entry_body_string$subexpression$1$macrocall$4","_",l],postprocess:function(e){return e[2]}},{name:"entry_body_string$subexpression$1",symbols:["entry_body_string$subexpression$1$macrocall$3"]},{name:"entry_body_string",symbols:["entry_body_string$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"entry_body_bib$subexpression$1$macrocall$2",symbols:["bib_content"]},{name:"entry_body_bib$subexpression$1$macrocall$1",symbols:[m,"_","entry_body_bib$subexpression$1$macrocall$2","_",b],postprocess:function(e){return e[2]}},{name:"entry_body_bib$subexpression$1",symbols:["entry_body_bib$subexpression$1$macrocall$1"]},{name:"entry_body_bib$subexpression$1$macrocall$4",symbols:["bib_content"]},{name:"entry_body_bib$subexpression$1$macrocall$3",symbols:[w,"_","entry_body_bib$subexpression$1$macrocall$4","_",l],postprocess:function(e){return e[2]}},{name:"entry_body_bib$subexpression$1",symbols:["entry_body_bib$subexpression$1$macrocall$3"]},{name:"entry_body_bib",symbols:["entry_body_bib$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"bib_content$ebnf$1",symbols:[]},{name:"bib_content$ebnf$1$subexpression$1",symbols:["keyval","_",u,"_"]},{name:"bib_content$ebnf$1",symbols:["bib_content$ebnf$1","bib_content$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"bib_content$ebnf$2$subexpression$1",symbols:["_",u]},{name:"bib_content$ebnf$2",symbols:["bib_content$ebnf$2$subexpression$1"],postprocess:a},{name:"bib_content$ebnf$2",symbols:[],postprocess:function(){}},{name:"bib_content",symbols:["key_string","_",u,"_","bib_content$ebnf$1","keyval","bib_content$ebnf$2"],postprocess:function(e){for(var y={_id:e[0],fields:[]},_=e[4],E=0;E<_.length;E++)y.fields.push(_[E][0]);return y.fields.push(e[5]),y}},{name:"bib_entry",symbols:[o,"_","entry_body_bib"],postprocess:function(e){var y={_id:e[2]._id};y["@type"]=e[0].string,y.fields={};for(var _=e[2].fields,E=0;E<_.length;E++)d(y,_[E]);return y}},{name:"string_entry",symbols:[n,"_","entry_body_string"],postprocess:function(e){return{type:"string",data:e[2]}}},{name:"preamble_entry",symbols:[r,"_","entry_body_comment"],postprocess:function(e){return{type:"preamble",data:e[2]}}},{name:"comment_entry",symbols:[s,"_","entry_body_comment"],postprocess:function(e){return{type:"comment",data:e[2]}}},{name:"keyval",symbols:["key_string","_",x,"_","value_string"],postprocess:function(e){return{type:"keyval",key:e[0],value:e[4]}}},{name:"braced_string$ebnf$1",symbols:[]},{name:"braced_string$ebnf$1$subexpression$1",symbols:["non_brace"]},{name:"braced_string$ebnf$1$subexpression$1",symbols:["braced_string"]},{name:"braced_string$ebnf$1",symbols:["braced_string$ebnf$1","braced_string$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"braced_string",symbols:[w,"braced_string$ebnf$1",l],postprocess:function(e){var y=[];for(var _ in e[1])y.push(e[1][_][0]);return{type:"braced",data:y}}},{name:"quoted_string$ebnf$1",symbols:[]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["escaped_quote"]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["non_quote_non_brace"]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["braced_string"]},{name:"quoted_string$ebnf$1",symbols:["quoted_string$ebnf$1","quoted_string$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"quoted_string",symbols:[i,"quoted_string$ebnf$1",i],postprocess:function(e){var y=[];for(var _ in e[1])y.push(e[1][_][0]);return{type:"quotedstring",data:y}}},{name:"escaped_quote",symbols:[v,i]},{name:"non_quote_non_brace$subexpression$1",symbols:[h]},{name:"non_quote_non_brace$subexpression$1",symbols:[o]},{name:"non_quote_non_brace$subexpression$1",symbols:[n]},{name:"non_quote_non_brace$subexpression$1",symbols:[r]},{name:"non_quote_non_brace$subexpression$1",symbols:[s]},{name:"non_quote_non_brace$subexpression$1",symbols:[p]},{name:"non_quote_non_brace$subexpression$1",symbols:[f]},{name:"non_quote_non_brace$subexpression$1",symbols:[S]},{name:"non_quote_non_brace$subexpression$1",symbols:[x]},{name:"non_quote_non_brace$subexpression$1",symbols:[v]},{name:"non_quote_non_brace$subexpression$1",symbols:[m]},{name:"non_quote_non_brace$subexpression$1",symbols:[b]},{name:"non_quote_non_brace$subexpression$1",symbols:[u]},{name:"non_quote_non_brace",symbols:["non_quote_non_brace$subexpression$1"]},{name:"key_string$ebnf$1",symbols:["stringreftoken"]},{name:"key_string$ebnf$1",symbols:["key_string$ebnf$1","stringreftoken"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"key_string",symbols:["key_string$ebnf$1"],postprocess:function(e){return $(e[0]).toLowerCase()}},{name:"value_string$subexpression$1$ebnf$1",symbols:[]},{name:"value_string$subexpression$1$ebnf$1$subexpression$1",symbols:["_",S,"_","quoted_string_or_ref"]},{name:"value_string$subexpression$1$ebnf$1",symbols:["value_string$subexpression$1$ebnf$1","value_string$subexpression$1$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"value_string$subexpression$1",symbols:["quoted_string_or_ref","value_string$subexpression$1$ebnf$1"]},{name:"value_string$subexpression$1",symbols:["braced_string"]},{name:"value_string",symbols:["value_string$subexpression$1"],postprocess:function(e){var y=e[0];if(y.length===2){var _=[];_.push(y[0]);for(var E=0;E<y[1].length;E++)_.push(y[1][E][3]);return{type:"quotedstringwrapper",data:_}}if(y[0].type==="braced")return{type:"bracedstringwrapper",data:y[0].data};throw new Error("Don't know how to handle value "+JSON.stringify(y[0]))}},{name:"quoted_string_or_ref$subexpression$1",symbols:["quoted_string"]},{name:"quoted_string_or_ref$subexpression$1",symbols:["string_ref"]},{name:"quoted_string_or_ref$subexpression$1",symbols:[f]},{name:"quoted_string_or_ref",symbols:["quoted_string_or_ref$subexpression$1"],postprocess:function(e){return e[0][0].type,e[0][0]}},{name:"string_ref$subexpression$1$ebnf$1",symbols:[]},{name:"string_ref$subexpression$1$ebnf$1",symbols:["string_ref$subexpression$1$ebnf$1","stringreftoken"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"string_ref$subexpression$1",symbols:["stringreftoken_n_num","string_ref$subexpression$1$ebnf$1"]},{name:"string_ref",symbols:["string_ref$subexpression$1"],postprocess:function(e){return{stringref:e[0][0]+$(e[0][1])}}},{name:"stringreftoken$subexpression$1",symbols:[v]},{name:"stringreftoken$subexpression$1",symbols:[m]},{name:"stringreftoken$subexpression$1",symbols:[b]},{name:"stringreftoken$subexpression$1",symbols:[h]},{name:"stringreftoken$subexpression$1",symbols:[f]},{name:"stringreftoken$subexpression$1",symbols:[o]},{name:"stringreftoken$subexpression$1",symbols:[n]},{name:"stringreftoken$subexpression$1",symbols:[r]},{name:"stringreftoken$subexpression$1",symbols:[s]},{name:"stringreftoken",symbols:["stringreftoken$subexpression$1"],postprocess:function(e){if(typeof e[0][0]=="object"){if(!e[0][0].string)throw new Error("Expected "+e[0]+"to have a 'string' field");return e[0][0].string}if(typeof e[0][0]!="string"&&typeof e[0][0]!="number")throw new Error("Expected "+e[0][0]+" to be a string");return e[0][0]}},{name:"stringreftoken_n_num$subexpression$1",symbols:[v]},{name:"stringreftoken_n_num$subexpression$1",symbols:[m]},{name:"stringreftoken_n_num$subexpression$1",symbols:[b]},{name:"stringreftoken_n_num$subexpression$1",symbols:[h]},{name:"stringreftoken_n_num$subexpression$1",symbols:[o]},{name:"stringreftoken_n_num$subexpression$1",symbols:[n]},{name:"stringreftoken_n_num$subexpression$1",symbols:[r]},{name:"stringreftoken_n_num$subexpression$1",symbols:[s]},{name:"stringreftoken_n_num",symbols:["stringreftoken_n_num$subexpression$1"],postprocess:function(e){if(typeof e[0][0]=="object"){if(!e[0][0].string)throw new Error("Expected "+e[0]+"to have a 'string' field");return e[0][0].string}if(typeof e[0][0]!="string"&&typeof e[0][0]!="number")throw new Error("Expected "+e[0][0]+" to be a string");return e[0][0]}},{name:"non_brace$subexpression$1",symbols:[v]},{name:"non_brace$subexpression$1",symbols:[m]},{name:"non_brace$subexpression$1",symbols:[b]},{name:"non_brace$subexpression$1",symbols:[h]},{name:"non_brace$subexpression$1",symbols:[i]},{name:"non_brace$subexpression$1",symbols:[p]},{name:"non_brace$subexpression$1",symbols:[f]},{name:"non_brace$subexpression$1",symbols:[u]},{name:"non_brace$subexpression$1",symbols:[o]},{name:"non_brace$subexpression$1",symbols:[n]},{name:"non_brace$subexpression$1",symbols:[r]},{name:"non_brace$subexpression$1",symbols:[s]},{name:"non_brace$subexpression$1",symbols:[S]},{name:"non_brace$subexpression$1",symbols:[x]},{name:"non_brace",symbols:["non_brace$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"non_bracket$subexpression$1",symbols:[v]},{name:"non_bracket$subexpression$1",symbols:[h]},{name:"non_bracket$subexpression$1",symbols:[i]},{name:"non_bracket$subexpression$1",symbols:[p]},{name:"non_bracket$subexpression$1",symbols:[f]},{name:"non_bracket$subexpression$1",symbols:[u]},{name:"non_bracket$subexpression$1",symbols:[o]},{name:"non_bracket$subexpression$1",symbols:[n]},{name:"non_bracket$subexpression$1",symbols:[r]},{name:"non_bracket$subexpression$1",symbols:[s]},{name:"non_bracket$subexpression$1",symbols:[S]},{name:"non_bracket$subexpression$1",symbols:[x]},{name:"non_bracket",symbols:["non_bracket$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_entry"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_escape"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_non_esc_outside_entry"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["non_esc_outside_entry"]},{name:"non_entry$ebnf$1",symbols:["non_entry$ebnf$1$subexpression$1"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_entry"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_escape"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_non_esc_outside_entry"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["non_esc_outside_entry"]},{name:"non_entry$ebnf$1",symbols:["non_entry$ebnf$1","non_entry$ebnf$1$subexpression$2"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"non_entry",symbols:["non_entry$ebnf$1"],postprocess:function(e){for(var y=[],_=0;_<e[0].length;_++)y.push(e[0][_][0]);return y}},{name:"escaped_escape",symbols:[v,v],postprocess:function(){return"\\"}},{name:"escaped_entry",symbols:[v,"entry_decl"],postprocess:function(e){return{type:"escapedEntry",data:e[1]}}},{name:"escaped_non_esc_outside_entry",symbols:[v,"non_esc_outside_entry"],postprocess:function(e){return e}},{name:"non_esc_outside_entry$subexpression$1",symbols:[h]},{name:"non_esc_outside_entry$subexpression$1",symbols:[p]},{name:"non_esc_outside_entry$subexpression$1",symbols:[f]},{name:"non_esc_outside_entry$subexpression$1",symbols:[S]},{name:"non_esc_outside_entry$subexpression$1",symbols:[x]},{name:"non_esc_outside_entry$subexpression$1",symbols:[m]},{name:"non_esc_outside_entry$subexpression$1",symbols:[b]},{name:"non_esc_outside_entry$subexpression$1",symbols:[w]},{name:"non_esc_outside_entry$subexpression$1",symbols:[l]},{name:"non_esc_outside_entry$subexpression$1",symbols:[i]},{name:"non_esc_outside_entry$subexpression$1",symbols:[u]},{name:"non_esc_outside_entry",symbols:["non_esc_outside_entry$subexpression$1"],postprocess:function(e){return e[0][0]}}],ParserStart:"main"}},function(k,t,c){Object.defineProperty(t,"__esModule",{value:!0});var a=c(14),d=c(15),$=c(16),g=c(22),h=c(23),o=function(){function n(r){this.str=r,this.len=r.length,this.pos=0}return n.prototype.getStringUntilNonEscapedChar=function(r){for(var s=[],p=this.pos;p<this.len+1;p++){if(this.pos=p,this.str.charAt(p)=="\\"&&this.str.charAt(p+1).match(r))p++,this.pos=p;else if(this.str.charAt(p).match(r))break;s.push(this.str.charAt(p))}return s.join("")},n.prototype.readTokens=function(){for(var r,s=[];r=this.readNextToken();)s.push(r);return s},n.prototype.readNextToken=function(){if(!(this.pos>=this.str.length)){var r=this.str.charAt(this.pos);return d.isSingleWhiteSpaceCharacter(r)?this.eatWhiteSpace():a.isSpecialChar(r)?this.eatSpecialChars(r):$.isNum(r)?this.eatNumericString(r):this.eatIdString()}},n.prototype.eatIdString=function(){for(var r=[],s=this.pos,p=s;p<this.len+1;p++){this.pos=p;var f=this.str.charAt(p);if(!g.isIdChar(f))break;r.push(f)}return g.newIdToken(r.join("").trim())},n.prototype.eatNumericString=function(r){for(var s=[r],p=this.pos+1,f=p;f<this.len+1;f++){this.pos=f;var S=this.str.charAt(f);if(!$.isNum(S))break;s.push(S)}var x=s.join("");if(s[0]==="0")return $.newNumber(x);var v=Number.parseInt(x);return Number.isFinite(v)?v:$.newNumber(x)},n.prototype.eatSpecialChars=function(r){if(this.pos++,r==="@"){var s=this.getStringUntilNonEscapedChar("{").trim().toLowerCase();return h.isBibType(s)?a.newToken(h.bibTypes[s],s):a.newToken("@bib",s)}return r},n.prototype.eatWhiteSpace=function(){for(var r=[];this.pos<this.len+1;){var s=this.str.charAt(this.pos);if(!d.isSingleWhiteSpaceCharacter(s))break;r.push(s),this.pos++}return d.newWhitespace(r.join(""))},n}();t.default=o},function(k,t,c){function a(n){return{type:"id",string:n}}function d(n){return n.type==="id"&&typeof n.string=="string"}function $(n){return!(g.isSpecialChar(n)||o.isNum(n)||h.isSingleWhiteSpaceCharacter(n))}Object.defineProperty(t,"__esModule",{value:!0});var g=c(14),h=c(15),o=c(16);t.newIdToken=a,t.isIdToken=d,t.isIdChar=$},function(k,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.bibTypes={string:"@string",preamble:"@preamble",comment:"@comment",bib:"@bib"},t.isBibType=function(a){return t.bibTypes.hasOwnProperty(a)}}])})})(z);const U=V(R);function L(C){return C.replaceAll("\\","").replaceAll("--","–").replaceAll("~"," ")}function G(C){return C.map(q=>{const t=U.parseBibFile(q.bibtex).getEntry(q.id);return t?{...q,note:L(q.note),specialNote:L(q.specialNote||""),title:t.getFieldAsString("TITLE"),authors:t.getField("author").authors$.map(c=>c.firstNames+" "+c.lastNames),bookname:L(t.getFieldAsString("journal")||t.getFieldAsString("booktitle")),pages:L(t.getFieldAsString("pages")),year:t.getFieldAsString("year")}:q})}const Z={class:"text-sm"},X={class:"font-bold"},ee={key:0},ne={key:1},te={key:2},re={key:3,class:"font-semibold"},se={key:4},oe={key:5},ie=["href"],ae={key:6},ue=["href"],ce={key:7},pe=["href"],be=["onClick"],fe={__name:"publications.page",setup(C){const q=G(Y);async function k(t){await navigator.clipboard.writeText(t),alert("BibTeX entry copied to clipboard!")}return(t,c)=>(B(),P("ul",Z,[(B(!0),P(Q,null,I(J(q),a=>(B(),P("li",null,[(B(!0),P(Q,null,I(a.authors,d=>(B(),P("span",null,[M("span",{class:K({"underline underline-gray-500":d==="Yu Yin"})},F(d),3),A(", ")]))),256)),M("span",X,F(a.title),1),A(", "+F(a.bookname),1),a.note||a.specialNote?(B(),P("span",ee," (")):T("",!0),a.note?(B(),P("span",ne,F(a.note),1)):T("",!0),a.note&&a.specialNote?(B(),P("span",te,", ")):T("",!0),a.specialNote?(B(),P("span",re,F(a.specialNote),1)):T("",!0),a.note||a.specialNote?(B(),P("span",se,")")):T("",!0),A("."),a.pdfLink?(B(),P("span",oe,[A(" ["),M("a",{href:a.pdfLink,target:"_blank",rel:"noopener"},"PDF",8,ie),A("]")])):T("",!0),a.codeLink?(B(),P("span",ae,[A(" ["),M("a",{href:a.codeLink,target:"_blank",rel:"noopener"},"CODE",8,ue),A("]")])):T("",!0),a.slidesLink?(B(),P("span",ce,[A(" ["),M("a",{href:a.slidesLink,target:"_blank",rel:"noopener"},"SLIDES",8,pe),A("]")])):T("",!0),A(" ["),M("a",{onClick:d=>k(a.bibtex),class:"cursor-pointer"},"CITE",8,be),A("] ")]))),256))]))}};export{fe as default};
