import{v as k}from"../chunks/chunk-26edff3a.js";import{s as E,y as d,t as r,u as l,x as n,F as v,z as p,A as y,B as V,C,D as O,v as S,E as w,G as b}from"../chunks/chunk-d006c356.js";function z(m,t){if(!m)throw Error(t)}const q=["C","C#","D","D#","E","F","F#","G","G#","A"],H=["C","Db","D","Eb","E","F","Gb","G","Ab","A"];class N{constructor(t,a,u,h){this.name=t,this.pitch=a||0,this.x=u||0,this.y=h||0}transpose(t,a){let u=this.name.slice(0,-1),h=Number(this.name.slice(-1));const g=a?H:q;let o=g.indexOf(u);for(let f=0;f<t;f++)o=(o+1)%12,o===0&&h++;return g[o]+String(h)}}const U={guitar6:["E2","A2","D3","G3","B3","E4"],guitar7:["B1","E2","A2","D3","G3","B3","E4"],guitarDropD:["D2","A2","D3","G3","B3","E4"],bass4:["E1","A1","D2","G2"],bass5:["B0","E1","A1","D2","G2"],ukulele:["C4","G3","E3","A2"]},L={guitar6:[10,13,17,26,36,46],guitar7:[10,13,17,26,36,46,59],guitarDropD:[10,13,17,26,36,46],bass4:[45,65,80,100],bass5:[45,65,80,100,130],ukulele:[28,32,40,28]};class M{constructor(t){this.svgHeight=t.height,this.svgWidth=t.width,this.tuning=U[t.instrument],this.useFlats=this.tuning.filter(e=>e.includes("b")).length>0,this.stringGauges=t.stringHasWidth?L[t.instrument]:void 0,this.strings=this.tuning.length,this.fretless=!!t.fretless,this.minFret=t.minFret??0,this.maxFret=t.maxFret??24,this.evenFactor=t.evenFactor??0;const a=t.padX??10,u=t.padY??10,h=t.nutWidth??0;z(this.minFret<=this.maxFret,"must contain at least one fret"),this.offsetX=a,this.minFret===0&&(this.offsetX+=h),this.scaleLength=1;const g=this.minFret>0?this.minFret-1:0,o=this.maxFret;this.frets=Array.from({length:o-g+1},(e,Y)=>Y+g);const f=this.getFretX(g),c=this.getFretX(o);let s=this.svgWidth-this.offsetX-a;z(s>10,"svg too small"),this.scaleLength=s/(c-f),this.offsetX-=this.getFretX(g,0),this.stringY=[];let i=u;const F=this.stringGauges?this.stringGauges.slice(0,this.strings).map(e=>Math.sqrt(e)).reduce((e,Y)=>e+Y):0;this.stringGap=(this.svgHeight-2*u-F)/(this.strings-1);for(let e=0;e<this.strings;++e)this.stringY.push(i),this.stringGauges&&(i+=Math.sqrt(this.stringGauges[e])),i+=this.stringGap}getFretX(t,a){if(a===void 0&&(a=this.offsetX),this.evenFactor>=.95)return this.scaleLength*.5/12*t+a;const u=.5*this.scaleLength/(1-1/(2-this.evenFactor));return u-u/(2-this.evenFactor)**(t/12)+a}getStringY(t){return this.stringY[t-1]}getFretSpaceX(t){return(this.getFretX(t)+this.getFretX(t-1))/2}getStringSpaceY(t){return this.getStringY(t)+this.stringGap/2}getNote(t,a){const u=this.tuning[this.strings-t],h=this.fretless?this.getFretX(a):this.getFretSpaceX(a),g=this.getStringY(t),o=new N(u).transpose(a,this.useFlats);return new N(o,0,h,g)}}const I=["height","width","viewBox"],j=V('<linearGradient id="board" x1="0" y1="100%" x2="0" y2="0"><stop offset="0%" stop-color="#100"></stop><stop offset="0.8%" stop-color="#877"></stop><stop offset="1.6%" stop-color="#402028"></stop><stop offset="98.5%" stop-color="#644"></stop><stop offset="99.5%" stop-color="#988"></stop><stop offset="100%" stop-color="#402028"></stop></linearGradient><filter id="shadow" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="0" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter><linearGradient id="box-short" x1="0" y1="100%" x2="0" y2="0"><stop offset="0%" stop-color="#332"></stop><stop offset="8%" stop-color="#bba"></stop><stop offset="95%" stop-color="#bba"></stop><stop offset="100%" stop-color="#ddc"></stop></linearGradient><linearGradient id="box-long" x1="0" y1="100%" x2="0" y2="0"><stop offset="0%" stop-color="#332"></stop><stop offset="3%" stop-color="#bba"></stop><stop offset="98%" stop-color="#bba"></stop><stop offset="100%" stop-color="#ddc"></stop></linearGradient><linearGradient id="fret" x1="0" y1="0" x2="100%" y2="0"><stop offset="0%" stop-color="#000"></stop><stop offset="50%" stop-color="#ccc"></stop><stop offset="100%" stop-color="#888"></stop></linearGradient><linearGradient id="string" x1="0" y1="100%" x2="0" y2="0"><stop offset="0%" stop-color="#000"></stop><stop offset="50%" stop-color="#eee"></stop><stop offset="100%" stop-color="#aaa"></stop></linearGradient>',6),T=["id","height"],J=["height"],K={x:"0"},P=["width","height"],Q={key:0},R=["cx","cy"],Z={key:1},tt=["cx","cy"],et=["cx","cy"],st={key:1},rt=["cx","cy"],lt={key:1},it=["cx","cy"],nt=["cx","cy"],ot={key:2},at=["width","height","x"],ut=["width","height"],ct=["d"],ht=["d"],dt={filter:"url(#shadow)"},gt=["y"],ft=["width","height","fill"],vt=["x"],pt=["height","width"],mt=["y","height","width"],yt=["y","height","width"],_t=40,G=40,B=20,_=6,A=E({__name:"FB",props:{width:{default:1500},height:{default:200},scale:{default:1},instrument:{default:"bass4"},minFret:{default:0},maxFret:{default:24},evenFactor:{default:0},nutWidth:{default:40},fretSize:{default:10},marker:{type:Boolean,default:!0},fretless:{type:Boolean,default:!1}},setup(m){const t=m,a=[3,5,7,9,12,15,17,19,21,24],u=d(()=>c.value.strings),h=d(()=>t.height),g=d(()=>t.width),o=d(()=>400/t.scale),f=d(()=>o.value/t.height*t.width),c=d(()=>new M({width:f.value,height:o.value,instrument:t.instrument,minFret:t.minFret,maxFret:t.maxFret,padX:_t,padY:G,nutWidth:t.nutWidth,evenFactor:t.evenFactor,stringHasWidth:!0,fretless:t.fretless}));function s(i){let F=c.value.stringGauges[i-1];return Math.sqrt(F)}return(i,F)=>(r(),l("svg",{height:h.value,width:g.value,viewBox:"0 0 "+f.value+" "+o.value},[n("defs",null,[j,(r(!0),l(v,null,p(c.value.strings,e=>(r(),l("pattern",{id:"ring"+e,width:"3",height:s(e),patternUnits:"userSpaceOnUse"},[n("rect",{x:"0",y:"0",width:"3",height:s(e),fill:"url(#string)",stroke:"#333"},null,8,J)],8,T))),256))]),(r(),l("svg",K,[n("rect",{width:f.value,height:o.value,fill:"url(#board)"},null,8,P)])),(r(),l("svg",null,[!i.fretless&&i.marker?(r(),l("svg",Q,[(r(),l(v,null,p(a,e=>n("g",null,[e%12!==0?(r(),l("circle",{key:0,cx:c.value.getFretSpaceX(e),cy:o.value/2,r:B,fill:"#ddd"},null,8,R)):(r(),l("g",Z,[n("circle",{cx:c.value.getFretSpaceX(e),cy:o.value*.25,r:B,fill:"#ddd"},null,8,tt),n("circle",{cx:c.value.getFretSpaceX(e),cy:o.value*.75,r:B,fill:"#ddd"},null,8,et)]))])),64))])):y("",!0),i.fretless&&i.marker?(r(),l("svg",st,[(r(),l(v,null,p(a,e=>n("g",null,[e%12!==0?(r(),l("circle",{key:0,cx:c.value.getFretX(e),cy:o.value-_-10,r:_,fill:"#ddd"},null,8,rt)):(r(),l("g",lt,[n("circle",{cx:c.value.getFretX(e)-_*2,cy:o.value-_-10,r:_,fill:"#ddd"},null,8,it),n("circle",{cx:c.value.getFretX(e)+_*2,cy:o.value-_-10,r:_,fill:"#ddd"},null,8,nt)]))])),64))])):y("",!0),i.fretless?y("",!0):(r(),l("svg",ot,[(r(),l(v,null,p(24,e=>n("svg",{width:i.fretSize,height:o.value,x:c.value.getFretX(e)-i.fretSize/2},[n("rect",{width:i.fretSize,height:o.value,fill:"url(#fret)"},null,8,ut),n("path",{fill:"#ccc",d:"M0,0 C0,10 "+i.fretSize+",10 "+i.fretSize+",0"},null,8,ct),n("path",{fill:"#888",d:"M0,"+o.value+" C0,"+(o.value-10)+" "+i.fretSize+","+(o.value-10)+" "+i.fretSize+","+o.value},null,8,ht)],8,at)),64))]))])),(r(),l("svg",dt,[(r(!0),l(v,null,p(c.value.strings,e=>(r(),l("svg",{y:c.value.getStringY(e)},[n("rect",{width:f.value,height:s(e),fill:s(e)>5?"url(#ring"+e+")":"url(#string)"},null,8,ft)],8,gt))),256))])),(r(),l("svg",{x:c.value.offsetX-i.nutWidth},[n("rect",{y:"0",height:G-2,fill:"url(#box-short)",width:i.nutWidth,rx:"5",ry:"5"},null,8,pt),(r(!0),l(v,null,p(u.value-1,e=>(r(),l("rect",{y:c.value.getStringY(e)+s(e)+4,height:c.value.stringGap-8,fill:"url(#box-long)",width:i.nutWidth,rx:"5",ry:"5"},null,8,mt))),256)),n("rect",{y:c.value.getStringY(u.value)+s(u.value)+4,height:G-6,fill:"url(#box-short)",width:i.nutWidth,rx:"5",ry:"5"},null,8,yt)],8,vt))],8,I))}}),xt=["height","width","viewBox"],Ft=["x1","x2","y1","y2"],kt={key:0},St=["x"],wt=["y1","y2"],bt={key:1},Xt=["x","y"],$t={key:2},Yt=["cx","cy"],Gt={key:1},Bt=["cx","cy"],Dt=["cx","cy"],Wt={key:3},Et=["cx","cy"],Mt={key:1},zt=["cx","cy"],Nt=["cx","cy"],At=["x1","x2","y1","y2"],Ct=40,Vt=80,X=30,D=20,x=6,Ot=E({__name:"FBDiagram",props:{width:{default:1500},height:{default:200},scale:{default:1},instrument:{default:"bass4"},minFret:{default:0},maxFret:{default:24},evenFactor:{default:1},marker:{type:Boolean,default:!0},fretNote:{type:Boolean,default:!0},fretless:{type:Boolean,default:!1}},setup(m){const t=m,a=d(()=>s.value.strings),u=d(()=>s.value.frets),h=d(()=>t.height),g=d(()=>t.width),o=d(()=>400/t.scale),f=d(()=>o.value/t.height*t.width),c=d(()=>[3,5,7,9,12,15,17,19,21,24].filter(i=>i>=t.minFret&&i<=t.maxFret)),s=d(()=>new M({width:f.value,height:o.value,instrument:t.instrument,minFret:t.minFret,maxFret:t.maxFret,padX:Ct,padY:Vt,nutWidth:X,evenFactor:t.evenFactor,fretless:t.fretless}));return(i,F)=>(r(),l("svg",{height:h.value,width:g.value,viewBox:"0 0 "+f.value+" "+o.value},[(r(),l("svg",null,[n("line",{x1:s.value.getFretX(0)-X/2+4,x2:s.value.getFretX(0)-X/2+4,y1:s.value.getStringY(1)-2,y2:s.value.getStringY(a.value)+2,stroke:"black","stroke-width":X},null,8,Ft)])),i.fretless?y("",!0):(r(),l("g",kt,[(r(!0),l(v,null,p(u.value,e=>(r(),l("svg",{x:s.value.getFretX(e)},[n("line",{x1:"0",x2:"0",y1:s.value.getStringY(1)-2,y2:s.value.getStringY(a.value)+2,stroke:"black","stroke-width":8},null,8,wt)],8,St))),256))])),i.fretNote&&i.minFret>1?(r(),l("g",bt,[n("text",{x:s.value.getFretX(i.minFret-1)+4,y:s.value.getStringY(1)-30,style:{"font-size":"48px","font-style":"italic"}},C(i.minFret)+" fr ",9,Xt)])):y("",!0),i.marker&&!i.fretless?(r(),l("svg",$t,[(r(!0),l(v,null,p(c.value,e=>(r(),l("g",null,[e%12!==0?(r(),l("circle",{key:0,cx:s.value.getFretSpaceX(e),cy:s.value.getStringSpaceY(Math.ceil(a.value/2)),r:D},null,8,Yt)):(r(),l("g",Gt,[n("circle",{cx:s.value.getFretSpaceX(e),cy:s.value.getStringSpaceY(Math.ceil(Math.sqrt(a.value-1)-1)),r:D},null,8,Bt),n("circle",{cx:s.value.getFretSpaceX(e),cy:s.value.getStringSpaceY(a.value-Math.ceil(Math.sqrt(a.value-1)-1)),r:D},null,8,Dt)]))]))),256))])):y("",!0),i.marker&&i.fretless?(r(),l("svg",Wt,[(r(!0),l(v,null,p(c.value,e=>(r(),l("g",null,[e%12!==0?(r(),l("circle",{key:0,cx:s.value.getFretX(e),cy:o.value-x-10,r:x},null,8,Et)):(r(),l("g",Mt,[n("circle",{cx:s.value.getFretX(e)-x*2,cy:o.value-x-10,r:x},null,8,zt),n("circle",{cx:s.value.getFretX(e)+x*2,cy:o.value-x-10,r:x},null,8,Nt)]))]))),256))])):y("",!0),(r(),l("svg",null,[(r(!0),l(v,null,p(a.value,e=>(r(),l("line",{x1:s.value.getFretX(0),x2:s.value.getFretX(25),y1:s.value.getStringY(e),y2:s.value.getStringY(e),stroke:"black","stroke-width":4},null,8,At))),256))]))],8,xt))}}),qt=["height","width","viewBox"],Ht=["y1","y2","x1","x2"],Ut={key:0},Lt=["y"],It=["x1","x2"],jt={key:1},Tt=["y","x"],Jt={key:2},Kt=["cy","cx"],Pt={key:1},Qt=["cy","cx"],Rt=["cy","cx"],Zt=["y1","y2","x1","x2"],te=0,ee=80,$=30,W=20,se=E({__name:"ChordDiagram",props:{width:{default:1500},height:{default:200},scale:{default:1},instrument:{default:"bass4"},minFret:{default:0},maxFret:{default:24},evenFactor:{default:1},marker:{type:Boolean,default:!0},fretNote:{type:Boolean,default:!0},fretless:{type:Boolean,default:!1}},setup(m){const t=m,a=d(()=>s.value.strings),u=d(()=>s.value.frets),h=d(()=>t.height),g=d(()=>t.width),o=d(()=>400/t.scale),f=d(()=>o.value/t.height*t.width),c=d(()=>[3,5,7,9,12,15,17,19,21,24].filter(i=>i>=t.minFret&&i<=t.maxFret)),s=d(()=>new M({width:o.value,height:f.value,instrument:t.instrument,minFret:t.minFret,maxFret:t.maxFret,padX:te,padY:ee,nutWidth:$,evenFactor:t.evenFactor,fretless:t.fretless}));return(i,F)=>(r(),l("svg",{height:h.value,width:g.value,viewBox:"0 0 "+f.value+" "+(o.value+4)},[(r(),l("svg",null,[n("line",{y1:s.value.getFretX(0)-$/2+4,y2:s.value.getFretX(0)-$/2+4,x1:s.value.getStringY(1)-2,x2:s.value.getStringY(a.value)+2,stroke:"black","stroke-width":$},null,8,Ht)])),i.fretless?y("",!0):(r(),l("g",Ut,[(r(!0),l(v,null,p(u.value,e=>(r(),l("svg",{y:s.value.getFretX(e)},[n("line",{y1:"0",y2:"0",x1:s.value.getStringY(1)-2,x2:s.value.getStringY(a.value)+2,stroke:"black","stroke-width":8},null,8,It)],8,Lt))),256))])),i.fretNote&&i.minFret>1?(r(),l("g",jt,[n("text",{y:s.value.getFretX(i.minFret-1)+40,x:s.value.getStringY(a.value)+20,style:{"font-size":"42px","font-style":"italic"}},C(i.minFret)+" fr ",9,Tt)])):y("",!0),i.marker?(r(),l("svg",Jt,[(r(!0),l(v,null,p(c.value,e=>(r(),l("g",null,[e%12!==0?(r(),l("circle",{key:0,cy:s.value.getFretSpaceX(e),cx:s.value.getStringSpaceY(Math.ceil(a.value/2)),r:W},null,8,Kt)):(r(),l("g",Pt,[n("circle",{cy:s.value.getFretSpaceX(e),cx:s.value.getStringSpaceY(Math.ceil(Math.sqrt(a.value-1)-1)),r:W},null,8,Qt),n("circle",{cy:s.value.getFretSpaceX(e),cx:s.value.getStringSpaceY(a.value-Math.ceil(Math.sqrt(a.value-1)-1)),r:W},null,8,Rt)]))]))),256))])):y("",!0),(r(),l("svg",null,[(r(!0),l(v,null,p(a.value,e=>(r(),l("line",{y1:s.value.getFretX(0),y2:s.value.getFretX(25),x1:s.value.getStringY(e),x2:s.value.getStringY(e),stroke:"black","stroke-width":4},null,8,Zt))),256))]))],8,qt))}}),re={class:"fixed top-0 left-0 right-0 bottom-0 overflow-y-scroll py-20"},le={class:"max-w-screen-lg mx-auto"},ie={class:"overflow-x-scroll pb-8"},ne={class:"mt-8 flex justify-center space-x-4"},oe={class:"mt-12 mx-4 flex flex-wrap justify-center items-center"},ce={title:"Fretboard Demo"},he={__name:"index.page",setup(m){const t=O({moreStrings:!1,fretless:!1,isEven:!1,marker:!0});return(a,u)=>(r(),l("article",re,[n("div",le,[n("div",ie,[S(A,{fretless:t.fretless,"even-factor":t.isEven?.8:0,marker:t.marker,instrument:t.moreStrings?"guitar6":"bass4",class:"shadow-gray-500 shadow-lg"},null,8,["fretless","even-factor","marker","instrument"])]),n("div",ne,[n("label",null,[w(n("input",{type:"checkbox","onUpdate:modelValue":u[0]||(u[0]=h=>t.moreStrings=h)},null,512),[[k,t.moreStrings]]),b(" more strings ")]),n("label",null,[w(n("input",{type:"checkbox","onUpdate:modelValue":u[1]||(u[1]=h=>t.fretless=h)},null,512),[[k,t.fretless]]),b(" fretless ")]),n("label",null,[w(n("input",{type:"checkbox","onUpdate:modelValue":u[2]||(u[2]=h=>t.isEven=h)},null,512),[[k,t.isEven]]),b(" even fret space ")]),n("label",null,[w(n("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=h=>t.marker=h)},null,512),[[k,t.marker]]),b(" marker ")])])]),n("div",oe,[S(se,{class:"p-10",height:100,width:200,scale:1.5,"min-fret":3,"max-fret":5,instrument:"guitar6",marker:!1}),S(Ot,{class:"p-10",height:180,width:300,scale:.8,"min-fret":5,"max-fret":12,instrument:"guitar6",fretless:t.fretless,marker:t.marker},null,8,["fretless","marker"]),S(A,{class:"p-10",height:150,width:200,scale:1.2,"min-fret":3,"max-fret":5,fretless:t.fretless,marker:t.marker},null,8,["fretless","marker"])])]))}};export{he as default,ce as frontmatter};
