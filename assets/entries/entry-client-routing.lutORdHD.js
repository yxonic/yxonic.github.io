import{j as se,k as a,p as h,m as gt,b as g,_ as v,s as pt,n as ht,q as L,r as O,t as T,u as y,v as Ee,d as w,w as K,x as N,y as Y,z as I,A as F,B as Te,C as ie,o as _,a as _t,l as M,D as ke,E as $e,F as Fe,G as mt,H as yt,I as z,J as bt,K as vt,L as Pt,c as St,M as je,N as wt,O as Ne,P as Rt,Q as k,R as Ot,S as xt,T as ae,g as le,i as Q,h as Ct,U as Et}from"../chunks/chunk-G416mwO9.js";function x(e){return typeof e!="object"||e===null?!1:Object.getPrototypeOf(e)===null?!0:e.constructor.name==="Object"}function me(e){return"["+e.map(t=>"'"+t+"'").join(", ")+"]"}function X(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function Tt(e){return typeof e=="object"&&e!==null&&"then"in e&&se(e.then)}function kt(e){return[null,void 0].includes(e)?String(e):["boolean","number","string"].includes(typeof e)?JSON.stringify(e):null}function $t(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function j(e,t,n){const r=jt(e,t);if(r===null)return null;const{value:o,definedAt:s}=r;return n&&Ft(o,n,t,s),r}function Ft(e,t,n,r){a(e!==null);const o=typeof e;if(o===t)return;const s=kt(e),l=s!==null?`value ${h.cyan(s)}`:`type ${h.cyan(o)}`,c=`${gt("Config",n,{definedAt:r})} has an invalid ${l}: it should be a ${h.cyan(t)} instead`;g(!1,c)}function jt(e,t){const n=e.configValues[t];return!n||n.value===null?null:n}const Nt=["nodes","frontmatter","default"],It=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Nt},Symbol.toStringTag,{value:"Module"})),At=["default"],Ht=["default",...At],Lt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Ht},Symbol.toStringTag,{value:"Module"})),Bt=["frontmatter","default"],Dt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Bt},Symbol.toStringTag,{value:"Module"})),Wt=["nodes","frontmatter","default"],Vt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Wt},Symbol.toStringTag,{value:"Module"})),zt=["nodes","frontmatter","default"],Mt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:zt},Symbol.toStringTag,{value:"Module"})),Ut=["frontmatter","default"],Gt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Ut},Symbol.toStringTag,{value:"Module"})),Kt=["frontmatter","pages","default"],Yt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Kt},Symbol.toStringTag,{value:"Module"})),Jt=["frontmatter","pages","default"],qt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Jt},Symbol.toStringTag,{value:"Module"})),Qt=["frontmatter","pages","default"],Xt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Qt},Symbol.toStringTag,{value:"Module"})),Zt=["frontmatter","pages","default"],en=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Zt},Symbol.toStringTag,{value:"Module"})),tn=["frontmatter","pages","default"],nn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:tn},Symbol.toStringTag,{value:"Module"})),rn=["frontmatter","pages","default"],on=Object.freeze(Object.defineProperty({__proto__:null,exportNames:rn},Symbol.toStringTag,{value:"Module"})),sn=["frontmatter","pages","default"],an=Object.freeze(Object.defineProperty({__proto__:null,exportNames:sn},Symbol.toStringTag,{value:"Module"})),ln=["frontmatter","pages","default"],un=Object.freeze(Object.defineProperty({__proto__:null,exportNames:ln},Symbol.toStringTag,{value:"Module"})),cn=["frontmatter","pages","default"],fn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:cn},Symbol.toStringTag,{value:"Module"})),dn=["frontmatter","pages","default"],gn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:dn},Symbol.toStringTag,{value:"Module"})),pn=["frontmatter","pages","default"],hn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:pn},Symbol.toStringTag,{value:"Module"})),_n=["default"],mn=["default",..._n],yn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:mn},Symbol.toStringTag,{value:"Module"})),bn=["default"],vn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:bn},Symbol.toStringTag,{value:"Module"})),Pn=["default"],Sn=["default",...Pn],wn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Sn},Symbol.toStringTag,{value:"Module"})),Rn=["render","passToClient"],On=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Rn},Symbol.toStringTag,{value:"Module"})),xn=["render"],Cn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:xn},Symbol.toStringTag,{value:"Module"})),ue={},Ie={},En={},J={},Tn=[],Ae={},kn=!0,$n=[],Fn={configValuesImported:[]},jn=Object.assign({"/src/blog/2023/10/first-blog.page.md":()=>v(()=>import("./src_blog_2023_10_first-blog.page.CH3M5iOA.js"),__vite__mapDeps([0,1])),"/src/dialog-tree/index.page.vue":()=>v(()=>import("./src_dialog-tree_index.page.M3gf_Jim.js"),__vite__mapDeps([2,3,1,4,5,6])),"/src/fretboard/index.page.vue":()=>v(()=>import("./src_fretboard_index.page.ptdU3mNd.js"),__vite__mapDeps([7,4,1,8,9])),"/src/pages/index.page.md":()=>v(()=>import("./src_pages_index.page.vmYMIjF3.js"),__vite__mapDeps([10,1])),"/src/pages/projects.page.md":()=>v(()=>import("./src_pages_projects.page.T_jiuT4o.js"),__vite__mapDeps([11,1])),"/src/pages/publications.page.vue":()=>v(()=>import("./src_pages_publications.page.tlhPHAJm.js"),__vite__mapDeps([12,5,1])),"/src/slides/bevy.page.mdx":()=>v(()=>import("./src_slides_bevy.page.LnlcqJg_.js"),__vite__mapDeps([13,14,1,6,15,8,16,17])),"/src/slides/devops.page.mdx":()=>v(()=>import("./src_slides_devops.page.yuxmvARr.js"),__vite__mapDeps([18,14,1,6,15,8,16,17])),"/src/slides/interview.page.mdx":()=>v(()=>import("./src_slides_interview.page.rTLAIZM5.js"),__vite__mapDeps([19,14,1,6,15,8,16,17])),"/src/slides/llm-research.page.mdx":()=>v(()=>import("./src_slides_llm-research.page.0F5IWs_4.js"),__vite__mapDeps([20,14,1,6,15,8,16,17])),"/src/slides/open-source-llms.page.mdx":()=>v(()=>import("./src_slides_open-source-llms.page.ZiysPJan.js"),__vite__mapDeps([21,14,1,6,15,8,16,17])),"/src/slides/project.page.mdx":()=>v(()=>import("./src_slides_project.page._Xoh5CiH.js"),__vite__mapDeps([22,14,1,6,15,8,16,17])),"/src/slides/resume.page.mdx":()=>v(()=>import("./src_slides_resume.page.beQ8Y0kF.js"),__vite__mapDeps([23,14,1,6,15,8,16,17])),"/src/slides/rust-for-work.page.mdx":()=>v(()=>import("./src_slides_rust-for-work.page.v5ecm8P9.js"),__vite__mapDeps([24,14,1,6,15,8,16,17])),"/src/slides/studio.page.mdx":()=>v(()=>import("./src_slides_studio.page.ArPgSZCn.js"),__vite__mapDeps([25,14,1,6,15,8,16,17])),"/src/slides/www23-promo.page.mdx":()=>v(()=>import("./src_slides_www23-promo.page.sN_5iDAR.js"),__vite__mapDeps([26,14,1,6,15,8,16,17])),"/src/slides/www23.page.mdx":()=>v(()=>import("./src_slides_www23.page.KoaLZ5TQ.js"),__vite__mapDeps([27,14,1,6,15,8,16,17])),"/src/vslides-live/index.page.vue":()=>v(()=>import("./src_vslides-live_index.page.QgWVkfBV.js"),__vite__mapDeps([28,15,6,1,8,16])),"/src/words/index.page.vue":()=>v(()=>import("./src_words_index.page.Ylqd-Je-.js"),__vite__mapDeps([29,3,1,4])),"/vpage/renderer/_error.page.vue":()=>v(()=>import("./vpage_renderer_error.page.VhdWRMnZ.js"),__vite__mapDeps([30,1]))}),Nn={...jn};ue[".page"]=Nn;const In=Object.assign({"/src/blog/2023/10/first-blog.page.md":It,"/src/dialog-tree/index.page.vue":Lt,"/src/fretboard/index.page.vue":Dt,"/src/pages/index.page.md":Vt,"/src/pages/projects.page.md":Mt,"/src/pages/publications.page.vue":Gt,"/src/slides/bevy.page.mdx":Yt,"/src/slides/devops.page.mdx":qt,"/src/slides/interview.page.mdx":Xt,"/src/slides/llm-research.page.mdx":en,"/src/slides/open-source-llms.page.mdx":nn,"/src/slides/project.page.mdx":on,"/src/slides/resume.page.mdx":an,"/src/slides/rust-for-work.page.mdx":un,"/src/slides/studio.page.mdx":fn,"/src/slides/www23-promo.page.mdx":gn,"/src/slides/www23.page.mdx":hn,"/src/vslides-live/index.page.vue":yn,"/src/words/index.page.vue":vn,"/vpage/renderer/_error.page.vue":wn}),An={...In};J[".page"]=An;const Hn=Object.assign({"/vpage/renderer/_default.page.server.ts":On}),Ln={...Hn};J[".page.server"]=Ln;const Bn=Object.assign({}),Dn={...Bn};Ie[".page.route"]=Dn;const Wn=Object.assign({"/vpage/renderer/_default.page.client.ts":()=>v(()=>import("./vpage_renderer_default.page.client.WsrmzshW.js"),__vite__mapDeps([31,4,1,32]))}),Vn={...Wn};ue[".page.client"]=Vn;const zn=Object.assign({"/vpage/renderer/_default.page.client.ts":Cn}),Mn={...zn};J[".page.client"]=Mn;const Un=Object.assign({"/vpage/renderer/_default.page.server.ts":()=>v(()=>import("./vpage_renderer_default.page.server.extractAssets.w40geAFS.js"),__vite__mapDeps([]))}),Gn={...Un};Ae[".page.server"]=Gn;const Kn=Object.freeze(Object.defineProperty({__proto__:null,isGeneratedFile:kn,neverLoaded:Ae,pageConfigGlobalSerialized:Fn,pageConfigsSerialized:$n,pageFilesEager:Ie,pageFilesExportNamesEager:J,pageFilesExportNamesLazy:En,pageFilesLazy:ue,pageFilesList:Tn},Symbol.toStringTag,{value:"Module"}));pt(Kn);function Yn(){ht(),L()}function Jn(){var r,o,s,l;const e=!!((o=(r=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)==null?void 0:r.renderers)!=null&&o.size),t=!!((l=(s=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)==null?void 0:s.rendererInterfaces)!=null&&l.size),n=!!window.__vite_plugin_react_preamble_installed__;return e||t||n}function He(e,t){const n=Object.keys,r=typeof e;return e&&t&&r==="object"&&r===typeof t?n(e).length===n(t).length&&n(e).every(s=>He(e[s],t[s])):e===t}function qn(e,t){return O(e)&&O(t)&&e.constructor===t.constructor&&He({...e,stack:null},{...t,stack:null})&&t.message===t.message}function U(e){window.location.href=e}function Qn(e){return new Promise(t=>setTimeout(t,e))}function Xn(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}function Le(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function Zn(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()})}function er(e){return!e.startsWith("/")&&!e.startsWith(".")&&!e.startsWith("?")&&e!==""}Yn();const te=T("history.ts",{});function Be(){let e=window.history.state;e||(e={});let t=!1;"timestamp"in e||(t=!0,e.timestamp=de()),"scrollPosition"in e||(t=!0,e.scrollPosition=fe()),"triggedBy"in e||(e.triggedBy="browser"),De(e),t&&ge(e)}function ce(){const e=window.history.state||{};return De(e),e}function fe(){return{x:window.scrollX,y:window.scrollY}}function de(){return new Date().getTime()}function ye(){const e=fe(),t=ce();ge({...t,scrollPosition:e})}function tr(e,t){if(t)ge(ce(),e);else{const n=de();nr({timestamp:n,scrollPosition:null,triggedBy:"vike"},e)}}function De(e){if(a(O(e)),"timestamp"in e){const{timestamp:t}=e;a(typeof t=="number")}if("scrollPosition"in e){const{scrollPosition:t}=e;t!==null&&a(y(t,"x","number")&&y(t,"y","number"))}}function ge(e,t){window.history.replaceState(e,"",t??null)}function nr(e,t){We(e,"",t)}function rr(){te.pushStateOriginal=te.pushStateOriginal??window.history.pushState,window.history.pushState=(e={},...t)=>{g(e==null||O(e),"history.pushState(state) argument state must be an object");const n={scrollPosition:fe(),timestamp:de(),...e,triggedBy:"user"};return We(n,...t)}}function We(...e){te.pushStateOriginal.apply(history,e)}async function or(e,t){const r=Ee(e,t).filter(s=>s.fileType===".page.server");return await Promise.all(r.map(async s=>{s.exportNames||(a(s.loadExportNames,t),await s.loadExportNames())})),{hasOnBeforeRenderServerSideOnlyHook:r.some(({exportNames:s})=>(a(s),s.includes("onBeforeRender")))}}const be=["urlPathname","urlParsed"],sr=["Page","pageExports","exports"];function Ve(e){[...sr,...be].forEach(n=>{n in e&&(be.includes(n)?(a(n.startsWith("url")),w(!1,`pageContext.${n} is already available in the browser when using Client Routing; adding '${n}' to passToClient has no effect`,{onlyOnce:!0})):w(!1,`pageContext.${n} is a built-in that cannot be overriden; adding '${n}' to passToClient has no effect`,{onlyOnce:!0}),delete e[n])})}const ir="/";function ar(e,t,n){const{pathnameOriginal:r,searchOriginal:o,hashOriginal:s}=K(e,ir);e.startsWith("/")&&a(e===`${r}${o||""}${s||""}`,{url:e});const l=r.endsWith("/");let i;return n&&r!=="/"?(l?i=N(r,0,-1):i=r,a(!i.endsWith("/"),{url:e}),a(i!=="")):i=r+(l?"":"/")+"index",a(i),i=i+t,`${i}${o||""}${s||""}`}const lr=".pageContext.json",ur=!1;function cr(e){return ar(e,lr,ur)}function ze(e,{hookName:t,hookFilePath:n}){if(e==null)return;a(!t.endsWith(")"));const r=`The ${h.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;g(O(e),`${r} should be an object (but it's ${h.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),g(!("_objectCreatedByVike"in e),`${r} shouldn't be the whole ${h.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),w(!("_pageId"in e),`${r} sets ${h.cyan("pageContext._pageId")} which means that Vike's routing is overriden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),g(!("is404"in e),`${r} sets ${h.cyan("pageContext.is404")} which is forbidden, use ${h.cyan("throw render()")} instead, see https://vike.dev/render`)}function fr(e,t,n){a(!n.endsWith(" "));const r=[],o=Object.keys(e);for(const s of o)t.includes(s)||r.push(s);g(r.length===0,[n,"returned an object with following unknown keys:",me(r)+".","Only following keys are allowed:",me(t)+"."].join(" "))}function dr(e,t){if(e==null)return;const n=`The onBeforeRender() hook defined by ${t}`;g(x(e),`${n} should return a plain JavaScript object, ${h.cyan("undefined")}, or ${h.cyan("null")}`),fr(e,["pageContext"],n),e.pageContext&&ze(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}function gr(e,t){if(!x(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}function pr(e){return typeof e=="object"&&e!==null&&Object.values(e).every(t=>typeof t=="string")}function hr(e,t,n=r=>r){if(a(e.length>0),e.length===1)return n(e[0]);const r=e.slice(0,e.length-1),o=e[e.length-1];return r.map(n).join(", ")+` ${t} `+n(o)}Y()&&L();async function _r(e,t){let n;if(e._pageFilesAll.length>0?(a(e._pageConfigs.length===0),n=mr(e._pageId,e._pageFilesAll)):n=I(e,"guard"),!n)return;const r=n.hookFn;let o=e;const s=t(e);s&&(o=s);const l=await F(()=>r(o),n);g(l===void 0,`The guard() hook of ${n.hookFilePath} returns a value, but guard() doesn't accept any return value`)}function mr(e,t){const n=t.find(c=>c.pageId===e&&c.fileType===".page.route");if(!n)return null;const{filePath:r,fileExports:o}=n;a(o);const s=o.guard;if(!s)return null;const l=r,i=Te("guard");return g(se(s),`guard() defined by ${l} should be a function`),{hookFn:s,hookName:"guard",hookFilePath:l,hookTimeout:i}}function yr(e){const t=new Error("AbortRender");return _(t,{_pageContextAbort:e,[Me]:!0}),t}const Me="_isAbortError";function ve(e){return typeof e=="object"&&e!==null&&Me in e}function br(e){return e._urlRewrite||e._urlRedirect||e.abortStatusCode?(a(y(e,"_abortCall","string")),!0):!1}function vr(e,t,n){if(t)return;const r=n._urlRewrite??n.urlOriginal;a(r);const o=e._pageContextAbort._abortCall;ie(!1,`${h.cyan(o)} intercepted while rendering ${h.cyan(r)}`,{onlyOnce:!1})}function Pr(e){Sr(e);const t={_urlRewrite:null};return e.forEach(n=>{Object.assign(t,n)}),t}function Sr(e){const t=[];e.forEach(n=>{const r=n._urlRewrite;{const o=t.indexOf(r);if(o!==-1){const s=[...t.slice(o),r].map(l=>`render('${l}')`).join(" => ");g(!1,`Infinite loop of render() calls: ${s}`)}}t.push(r)})}function wr(e,t){const n=[e>0&&h.cyan("throw render('/some-url')"),t>0&&h.cyan("throw redirect('/some-url')")].filter(Boolean).join(" and ");g(e+t<=7,`Maximum chain length of 7 ${n} exceeded. Did you define an infinite loop of ${n}?`)}const Ue=T("router/getPageContext.ts",{});async function Rr(e){const t=_t();Ve(t),_(t,{isHydration:!0,_hasPageContextFromClient:!1}),_(t,await M(t._pageId,e));{const n={...e,...t};if(Je(n)){const r=await Ke(n);_(t,r)}}return Ye(t),t}async function Or(e){const t=ke(e._pageFilesAll,e._pageConfigs);if(!t)throw new Error("No error page defined.");const n={isHydration:!1,_pageId:t};return _(n,await Ge({...e,...n},!0)),n}async function xr(e){const t={isHydration:!1,_pageId:e._pageId};return _(t,await Ge({...e,...t},!1)),Ye(t),t}async function Ge(e,t){let n={};_(n,{_hasPageContextFromClient:!1}),_(n,await M(e._pageId,e));let r=!1;if(!t&&await Cr({...e,...n})){const o=await Tr(e);if(r=!0,!o._isError)_(n,o);else{const s=ke(e._pageFilesAll,e._pageConfigs);a(s),n={},_(n,{_hasPageContextFromClient:!1,isHydration:!1,_pageId:s}),_(n,await M(n._pageId,e)),a(y(o,"is404","boolean")),a(y(o,"pageProps","object")),a(y(o.pageProps,"is404","boolean")),a(!("serverSideError"in o)),_(n,o)}}else _(n,{_hasPageContextFromServer:!1}),t||await _r({...e,...n},o=>$e(o,!0));{const o={...e,...n};if(Je(o)||!r){const s=await Ke(o);_(n,s)}else a(r)}return n}async function Ke(e){const t=I(e,"onBeforeRender");if(!t)return{_hasPageContextFromClient:!1};const n=t.hookFn,r={_hasPageContextFromClient:!0},o=$e({...e,...r},!0),s=await F(()=>n(o),t);dr(s,t.hookFilePath);const l=s==null?void 0:s.pageContext;return _(r,l),r}function Ye(e){e._pageContextInitHasClientData&&(Ue.pageContextInitHasClientData=!0)}async function Cr(e){return!!Ue.pageContextInitHasClientData||await Er(e)}async function Er(e){var t;if(e._pageConfigs.length>0){const n=Fe(e._pageId,e._pageConfigs),r=((t=j(n,"onBeforeRenderEnv"))==null?void 0:t.value)??{};return a(O(r)),!!r.server&&!r.client}else{const{hasOnBeforeRenderServerSideOnlyHook:n}=await or(e._pageFilesAll,e._pageId);return n}}function Je(e){var t;if(e._pageConfigs.length>0){const n=Fe(e._pageId,e._pageConfigs),r=((t=j(n,"onBeforeRenderEnv"))==null?void 0:t.value)??{};return a(O(r)),!!r.client&&!r.server}else return!1}async function Tr(e){const t=cr(e._urlRewrite??e.urlOriginal),n=await fetch(t);{const s=n.headers.get("content-type"),l="application/json",i=s&&s.includes(l);if(!i&&n.status===404)throw U(e.urlOriginal),$r();g(i,`Wrong Content-Type for ${t}: it should be ${l} but it's ${s} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const r=await n.text(),o=mt(r);if(a(O(o)),"serverSideError"in o)throw yt("The pageContext object couldn't be fetched from the server as an error occurred on the server-side. Check your server logs.");if(br(o))throw yr(o);return a(y(o,"_pageId","string")),Ve(o),_(o,{_hasPageContextFromServer:!0}),o}function kr(e){return O(e)&&!!e._alreadyServerSideRouted}function $r(){const e=new Error("Page doesn't exist");return Object.assign(e,{_alreadyServerSideRouted:!0}),e}function qe(e,t=!0){a(e.urlOriginal),"urlPathname"in e&&(a(typeof e.urlPathname=="string"),a(X(e,"urlPathname"))),"urlParsed"in e&&a(X(e,"urlParsed")),"url"in e&&a(X(e,"url")),Object.defineProperty(e,"urlPathname",{get:Xe,enumerable:t,configurable:!0}),Object.defineProperty(e,"url",{get:Fr,enumerable:!1,configurable:!0}),Object.defineProperty(e,"urlParsed",{get:jr,enumerable:t,configurable:!0})}function Qe(e){let t=e._urlHandler;t||(t=o=>o);let n=e._urlRewrite??e.urlLogical??e.urlOriginal;n=t(n);const r=e._baseServer;return a(n&&typeof n=="string"),a(r.startsWith("/")),K(n,r)}function Xe(){const{pathname:e}=Qe(this),t=e;return a(t.startsWith("/")),t}function Fr(){return w(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),Xe.call(this)}function jr(){const e=Qe(this),{origin:t,pathname:n,pathnameOriginal:r,search:o,searchAll:s,searchOriginal:l,hash:i,hashOriginal:c}=e,d=Y(),b=u=>{w(d,`pageContext.urlParsed.${u} isn't available on the server-side (HTTP requests don't include the URL hash by design)`,{onlyOnce:!0,showStackTrace:!0})},f={origin:t,pathname:n,pathnameOriginal:r,search:o,searchAll:s,searchOriginal:l,get hash(){return b("hash"),i},get hashOriginal(){return b("hashOriginal"),c},get hashString(){return w(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),b("hashString"),c},get searchString(){return w(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),l}};return D(f,"hashString"),D(f,"searchString"),d||(D(f,"hash"),D(f,"hashOriginal")),f}function D(e,t){const n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...n,enumerable:!1})}function Nr(e){a(typeof e.urlOriginal=="string"),a(typeof e.urlPathname=="string"),a(x(e.urlParsed)),a(e.urlPathname===e.urlParsed.pathname)}function Ir(e,t){const r=t.filter(({filesystemRoot:s})=>e.startsWith(s)).sort(z(({filesystemRoot:s})=>s.length))[0];let o;if(r){const{filesystemRoot:s,urlRoot:l}=r,i={pageId:e,filesystemRoot:s,urlRoot:l};a(l.startsWith("/")&&e.startsWith("/")&&s.startsWith("/"),i),a(e.startsWith(s),i),s!=="/"?(a(!s.endsWith("/"),i),o=N(e,s.length,0)):o=e,a(o.startsWith("/"),i),o=l+(l.endsWith("/")?"":"/")+N(o,1,0)}else o=e;return a(o.startsWith("/")),o=o.split("/").filter(s=>s!=="pages"&&s!=="src"&&s!=="index").join("/"),a(!o.includes(".page.")),a(!o.endsWith(".")),o.endsWith("/index")&&(o=N(o,0,-6)),o===""&&(o="/"),a(o.startsWith("/")),a(!o.endsWith("/")||o==="/"),o}async function Ar(e,t,n){Nr(t);let r=e(t);if(Ze(r,`The Route Function ${n}`),r=await r,r===!1)return null;if(r===!0&&(r={}),g(x(r),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${h.cyan(`typeof result === ${JSON.stringify(typeof r)}`)} instead)`),"match"in r){const{match:l}=r;if(g(typeof l=="boolean",`The ${h.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!l)return null}let o=null;"precedence"in r&&(o=r.precedence,g(typeof o=="number",`The ${h.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),et(r,`The ${h.cyan("routeParams")} object returned by the Route Function ${n} should`);const s=r.routeParams||{};return g(!("pageContext"in r),`Providing ${h.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),a(x(s)),Object.keys(r).forEach(l=>{g(l==="match"||l==="routeParams"||l==="precedence",`The Route Function ${n} returned an object with an unknown property ${h.cyan(l)} (the known properties are ${h.cyan("match")}, ${h.cyan("routeParams")}, and ${h.cyan("precedence")})`)}),{precedence:o,routeParams:s}}function Ze(e,t){w(!Tt(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Pe(){const e=h.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions");w(!1,`${e} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function et(e,t){a(t.endsWith(" should")),y(e,"routeParams")&&(a(t.endsWith(" should")),g(x(e.routeParams),`${t} be a plain JavaScript object.`),g(pr(e.routeParams),`${t} only hold string values.`))}async function Hr(e,t,n,r){await Promise.all(e.filter(i=>i.fileType===".page.route").map(i=>{var c;return(c=i.loadFile)==null?void 0:c.call(i)}));const{onBeforeRouteHook:o,filesystemRoots:s}=Br(e,t,n);return{pageRoutes:Lr(s,e,t,r),onBeforeRouteHook:o}}function Lr(e,t,n,r){const o=[];let s=[...r];if(n.length>0){a(e===null);const l=!0;n.filter(i=>!i.isErrorPage).forEach(i=>{const c=i.pageId;s=Wr(s,c);let d=null;{const b="route",f=j(i,b);if(f){const u=f.value,m=bt(f.definedAt,b);typeof u=="string"?d={pageId:c,comesFromV1PageConfig:l,routeString:u,routeDefinedAt:m,routeType:"STRING"}:(a(se(u)),j(i,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Pe(),d={pageId:c,comesFromV1PageConfig:l,routeFunction:u,routeDefinedAt:m,routeType:"FUNCTION"})}}if(!d){const{routeFilesystem:b}=i;a(b);const{routeString:f,definedBy:u}=b;a(b.routeString.startsWith("/")),d={pageId:c,routeFilesystemDefinedBy:u,comesFromV1PageConfig:l,routeString:f,routeDefinedAt:null,routeType:"FILESYSTEM"}}a(d),o.push(d)})}if(n.length===0){a(e);const l=!1;s.filter(i=>!vt(i)).forEach(i=>{const c=t.find(d=>d.pageId===i&&d.fileType===".page.route");if(!c||!("default"in c.fileExports)){const d=Ir(i,e);a(d.startsWith("/")),a(!d.endsWith("/")||d==="/"),o.push({pageId:i,comesFromV1PageConfig:l,routeString:d,routeDefinedAt:null,routeFilesystemDefinedBy:`${i}.page.*`,routeType:"FILESYSTEM"})}else{const{filePath:d,fileExports:b}=c;if(a(b.default),y(b,"default","string")){const f=b.default;g(f.startsWith("/"),`A Route String should start with a leading slash '/' but ${d} has \`export default '${f}'\`. Make sure to \`export default '/${f}'\` instead.`),o.push({pageId:i,comesFromV1PageConfig:l,routeString:f,routeDefinedAt:d,routeType:"STRING"});return}if(y(b,"default","function")){const f=b.default;"iKnowThePerformanceRisksOfAsyncRouteFunctions"in b&&Pe(),o.push({pageId:i,comesFromV1PageConfig:l,routeFunction:f,routeDefinedAt:d,routeType:"FUNCTION"});return}g(!1,`The default export of ${d} should be a string or a function.`)}})}return o}function Br(e,t,n){if(t.length>0)return{onBeforeRouteHook:Pt(n,"onBeforeRoute"),filesystemRoots:null};let r=null;const o=[];return e.filter(s=>s.fileType===".page.route"&&s.isDefaultPageFile).forEach(({filePath:s,fileExports:l})=>{if(a(l),"onBeforeRoute"in l){g(y(l,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${s} should be a function.`);const{onBeforeRoute:i}=l,c="onBeforeRoute";r={hookFilePath:s,hookFn:i,hookName:c,hookTimeout:Te(c)}}"filesystemRoutingRoot"in l&&(g(y(l,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${s} should be a string.`),g(y(l,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${s} is \`'${l.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),o.push({filesystemRoot:Dr(s),urlRoot:l.filesystemRoutingRoot}))}),{onBeforeRouteHook:r,filesystemRoots:o}}function Dr(e){a(e.startsWith("/")),a(!e.endsWith("/"));const t=e.split("/"),n=N(t,0,-1).join("/")||"/";return a(n.startsWith("/")),a(!n.endsWith("/")||n==="/"),n}function Wr(e,t){const{length:n}=e;return e=e.filter(r=>r!==t),a(e.length===n-1),e}function tt(){const e="/";return a(Vr(e)),e}function Vr(e){return e.startsWith("/")}const Z=T("createPageContext.ts",{});async function nt(e){Z.pageFilesData||(Z.pageFilesData=await St(!0));const{pageFilesAll:t,allPageIds:n,pageConfigs:r,pageConfigGlobal:o}=Z.pageFilesData,{pageRoutes:s,onBeforeRouteHook:l}=await Hr(t,r,o,n),i=tt();a(je(i));const d={urlOriginal:e,_objectCreatedByVike:!0,_urlHandler:null,_urlRewrite:null,_baseServer:i,_isProduction:!0,_pageFilesAll:t,_pageConfigs:r,_pageConfigGlobal:o,_allPageIds:n,_pageRoutes:s,_onBeforeRouteHook:l};return qe(d),d}function rt(e){const t=e.getAttribute("href");return!!(t===null||t===""||er(t)||Mr(e)||Ur(t)||!Gr(t)||!wt(t)||!zr(e))}function zr(e){if(Kr()){const n=e.getAttribute("data-vike-link");return n!==null&&n!=="false"}else return!0}function Mr(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return t==="_blank"||t==="_external"||n==="external"||e.hasAttribute("download")}function Ur(e){if(e.startsWith("#"))return!0;const t=n=>n.split("#")[0];return!!(e.includes("#")&&t(e)===t(window.location.href))}function Gr(e){const t=tt();a(je(t));const{hasBaseServer:n}=K(e,t);return n}function Kr(){return!!window._disableAutomaticLinkInterception}function Yr(e,t){let n=Jr(e,t);return n==="viewport"&&!e._isProduction&&(ie(!1,"Viewport prefetching is disabled in development",{onlyOnce:!0}),n="hover"),{prefetchStaticAssets:n}}function Jr(e,t){{const n=qr(t);if(n!==null)return n}if("prefetchLinks"in e.exports&&g(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const{prefetchStaticAssets:n}=e.exports;if(n===!1)return!1;if(n==="hover")return"hover";if(n==="viewport")return"viewport";const r="prefetchStaticAssets value should be false, 'hover', or 'viewport'";g(x(n),r);const o=Object.keys(n);g(o.length===1&&o[0]==="when",r);const{when:s}=n;if(s==="HOVER"||s==="VIEWPORT"){const l=s.toLowerCase();return w(!1,`prefetchStaticAssets value \`{ when: '${s}' }\` is outdated: set prefetchStaticAssets to '${l}' instead`,{onlyOnce:!0}),l}g(!1,r)}return"hover"}function qr(e){const t=e.getAttribute("data-prefetch-static-assets"),n=e.getAttribute("data-prefetch");if(t===null&&n===null)return null;const r="The attribute data-prefetch is outdated, use data-prefetch-static-assets instead.";if(t){if(g(n===null,r),t==="hover"||t==="viewport")return t;if(t==="false")return!1;g(!1,`data-prefetch-static-assets has value "${t}" but it should instead be "false", "hover", or "viewport"`)}if(n){if(a(!t),w(!1,r,{onlyOnce:!0}),n==="true")return"viewport";if(n==="false")return"hover";g(!1,`data-prefetch has value "${n}" but it should instead be "true" or "false"`)}a(!1)}const ot=new Map;function Qr(e){const t=st(e);return ot.has(t)}function Xr(e){const t=st(e);ot.set(t,!0)}function st(e){return K(e,"/").pathname}function A(e){return e.fileType===".css"?[]:e.exportNames?e.exportNames:(a(e.fileExports,e.filePath),Object.keys(e.fileExports))}function Zr({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:r(),isClientRouting:s()};function r(){return t.some(i=>i.pageId===n&&i.fileType===".page")?(o(),!1):!(!t.some(i=>i.pageId===n&&i.fileType===".page.server")||e.some(i=>i.pageId===n&&i.fileType===".page.client"&&A(i).includes("render")))}function o(){const l=e.some(i=>A(i).includes("render"));g(l,["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((i,c)=>` (${c+1}): ${i.filePath}`)].join(`
`)].join(" "))}function s(){return e.some(i=>A(i).includes("clientRouting"))}}function eo({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:r}){let o=[];const s=t.filter(i=>!e.includes(i)),l=[];if(l.push(...e.map(i=>({id:i.filePath,onlyAssets:!1,eagerlyImported:!1}))),l.push(...s.map(i=>({id:i.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)o=e.map(i=>i.filePath);else{const i=to(r);l.push({id:i,onlyAssets:!1,eagerlyImported:!1}),o=[i]}return{clientEntries:o,clientDependencies:l}}function to(e){return e?"@@vike/dist/esm/client/client-routing-runtime/entry.js":"@@vike/dist/esm/client/server-routing-runtime/entry.js"}function no(e,t){let n=Ne(e,t);const r=Ee(e,t),{isHtmlOnly:o,isClientRouting:s}=Zr({pageFilesClientSide:n,pageFilesServerSide:r,pageId:t});o&&(n=n.filter(c=>c.isEnv("CLIENT_ONLY")&&!A(c).includes("render")),n=oo(n));const{clientEntries:l,clientDependencies:i}=eo({pageFilesClientSide:n,pageFilesServerSide:r,isHtmlOnly:o,isClientRouting:s});return{isHtmlOnly:o,isClientRouting:s,clientEntries:l,clientDependencies:i,pageFilesClientSide:n,pageFilesServerSide:r}}async function ro(e,t,{sharedPageFilesAlreadyLoaded:n}){const r=Ne(e,t);await Promise.all(r.map(async o=>{var s;a(o.isEnv("CLIENT_ONLY")||o.isEnv("CLIENT_AND_SERVER")),!(n&&o.isEnv("CLIENT_AND_SERVER"))&&await((s=o.loadExportNames)==null?void 0:s.call(o))}))}function oo(e){const t=[];for(const n of e)if(t.push(n),A(n).includes("overrideDefaultPages"))break;return t}function so(e,t,n){var r,o;if(e){const s=((r=j(e,"clientRouting","boolean"))==null?void 0:r.value)??!1;return{isClientSideRenderable:((o=j(e,"isClientSideRenderable","boolean"))==null?void 0:o.value)??!1,isClientRouting:s}}else{const{isHtmlOnly:s,isClientRouting:l}=no(t,n);return{isClientSideRenderable:!s,isClientRouting:l}}}async function it(e,t){await ro(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=Rt(t._pageConfigs,e),{isClientSideRenderable:r,isClientRouting:o}=so(n,t._pageFilesAll,e);return r&&o}const at="@",ne=":";function io(e,t="Invalid"){let n=`${t} Route String ${E(e)}`;g(e!=="",`${n} (empty string): set it to ${E("/")} instead`),g(["/","*"].includes(e[0]),`${n}: it should start with ${E("/")} or ${E("*")}`),g(!e.includes("**"),`${n}: set it to ${E(e.split("**").join("*"))} instead`)}function re(e,t){io(e);const n=lt(e),r=n.map(f=>f.param?"[^/]+":f.glob?f.isLastDir?"|/.*":".*":$t(f.static)).map(f=>`(${f})`).join(""),o=new RegExp(`^${r}/?$`),s=t.match(o);if(!s)return null;const l={},[i,...c]=s;let d=0;const b=n.filter(f=>f.glob).length>1;return n.forEach((f,u)=>{let m=c[u];if(f.param&&(l[f.param]=m),f.glob){const C=`*${b?++d:""}`;f.isLastDir&&(m=m.slice(1)),l[C]=m}}),{routeParams:l}}function lt(e){const t=[],n=o=>{const s=t[t.length-1];s!=null&&s.static?s.static+=o:t.push({static:o})},r=e.split("/");return r.forEach((o,s)=>{const l=s===0,i=s===r.length-1;ao(o)?(w(!o.startsWith(ne),`Outdated Route String ${E(e)}, use ${E(e.split(ne).join(at))} instead`,{onlyOnce:!0}),l||n("/"),t.push({param:o.slice(1)})):o==="*"&&i&&e!=="*"&&e!=="/*"?t.push({glob:!0,isLastDir:!0}):(l||n("/"),o.split("*").forEach((c,d)=>{d!==0&&t.push({glob:!0}),c!==""&&n(c)}))}),t}function W(e){const t=lt(e),n=i=>(i==null?void 0:i.split("/").filter(Boolean).length)||0;let r=0;for(const i of t){if(!i.static)break;r+=n(i.static)}const o=t.map(i=>n(i.static)).reduce((i,c)=>i+c,0),s=t.filter(i=>i.param).length,l=t.filter(i=>i.glob).length;return{numberOfStaticPartsBeginning:r,numberOfStaticParts:o,numberOfParams:s,numberOfGlobs:l}}function ao(e){return e.startsWith(at)||e.startsWith(ne)}function Se(e){const n=re(e,e);return a(n),Object.keys(n.routeParams).length===0}function E(e){return Y()?`'${e}'`:(e===""&&(e="''"),h.cyan(e))}function lo(e){e.sort(uo).sort(k(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence<0)).sort(k(t=>t.routeType==="STRING"&&Se(t.routeString)===!1)).sort(k(t=>t.routeType==="FUNCTION"&&!t.precedence)).sort(k(t=>t.routeType==="STRING"&&Se(t.routeString)===!0)).sort(k(t=>t.routeType==="FILESYSTEM")).sort(k(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence>0))}function uo(e,t){{const n=e.precedence??0,r=t.precedence??0;if(n!==r)return n>r?-1:1}if(!t.routeString||!e.routeString)return 0;{const r=z(o=>W(o).numberOfStaticPartsBeginning)(e.routeString,t.routeString);if(r!==0)return r}{const r=z(o=>W(o).numberOfStaticParts)(e.routeString,t.routeString);if(r!==0)return r}{const r=Ot(o=>W(o).numberOfGlobs)(e.routeString,t.routeString);if(r!==0)return r}{const r=z(o=>W(o).numberOfParams)(e.routeString,t.routeString);if(r!==0)return r}return 0}async function co(e){const t={};if(!e._onBeforeRouteHook)return null;const n=await fo(e._onBeforeRouteHook,e);return n&&(_(t,n),y(t,"_pageId","string")||y(t,"_pageId","null"))?(y(t,"routeParams")?a(y(t,"routeParams","object")):_(t,{routeParams:{}}),_(t,{_routingProvidedByOnBeforeRouteHook:!0,_debugRouteMatches:"CUSTOM_ROUTING"}),t):(_(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}async function fo(e,t){let n=e.hookFn(t);Ze(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await F(()=>n,e);const r=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(g(n==null||gr(n,["pageContext"])&&y(n,"pageContext"),`${r} should return ${h.cyan("null")}, ${h.cyan("undefined")}, or a plain JavaScript object ${h.cyan("{ pageContext: { /* ... */ } }")}`),n==null)return null;if(g(y(n,"pageContext","object"),`${r} returned ${h.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),y(n.pageContext,"_pageId")&&!y(n.pageContext,"_pageId","null")){const l=`${r} returned ${h.cyan("{ pageContext: { _pageId } }")} but ${h.cyan("_pageId")} should be`;g(y(n.pageContext,"_pageId","string"),`${l} a string or null`),g(t._allPageIds.includes(n.pageContext._pageId),`${l} ${hr(t._allPageIds.map(i=>h.cyan(i)),"or")}`)}y(n.pageContext,"routeParams")&&et(n.pageContext,`${r} returned ${h.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const o=l=>`${r} returned ${h.cyan(`{ pageContext: { ${l} } }`)} which is deprecated. Return ${h.cyan("{ pageContext: { urlLogical } }")} instead.`;y(n.pageContext,"url")&&(w(!1,o("url"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.url,delete n.pageContext.url),y(n.pageContext,"urlOriginal")&&(w(!1,o("urlOriginal"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.urlOriginal,delete n.pageContext.urlOriginal),y(n.pageContext,"urlLogical")&&xt(n.pageContext.urlLogical,`${r} returned ${h.cyan("{ pageContext: { urlLogical } }")} but ${h.cyan("urlLogical")}`),ze(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const s={};return _(s,n.pageContext),s}var V;function we(...e){var t;V||(V=(t=globalThis.__brillout_debug_createDebugger)==null?void 0:t.call(globalThis,"vike:routing")),V&&V(...e)}Y()&&L();async function ut(e){we("Pages routes:",e._pageRoutes),qe(e);const t={},n=await co(e);if(n){if(n._routingProvidedByOnBeforeRouteHook)return a(n._pageId),n;_(t,n)}const r={};_(r,e),_(r,n);const o=r._allPageIds;a(o.length>=0),g(r._pageFilesAll.length>0||r._pageConfigs.length>0,"No *.page.js file found. You must create at least one *.page.js file."),g(o.length>0,"You must create at least one *.page.js file that isn't _default.page.*");const{urlPathname:s}=r;a(s.startsWith("/"));const l=[];await Promise.all(r._pageRoutes.map(async c=>{const{pageId:d,routeType:b}=c;if(c.routeType==="FILESYSTEM"){const{routeString:f}=c,u=re(f,s);if(u){const{routeParams:m}=u;l.push({pageId:d,routeParams:m,routeString:f,routeType:b})}return}if(c.routeType==="STRING"){const{routeString:f}=c,u=re(f,s);if(u){const{routeParams:m}=u;a(b==="STRING"),l.push({pageId:d,routeString:f,routeParams:m,routeType:b})}return}if(c.routeType==="FUNCTION"){const{routeFunction:f,routeDefinedAt:u}=c,m=await Ar(f,r,u);if(m){const{routeParams:C,precedence:B}=m;l.push({pageId:d,precedence:B,routeParams:C,routeType:b})}return}a(!1)})),lo(l);const i=l[0];if(we(`Route matches for URL ${h.cyan(s)} (in precedence order):`,l),_(t,{_debugRouteMatches:l}),!i)return _(t,{_pageId:null,routeParams:{}}),t;{const{routeParams:c}=i;a(x(c)),_(t,{_pageId:i.pageId,routeParams:i.routeParams})}return t}L();const Re=T("prefetch.ts",{linkPrefetchHandlerAdded:new Map});async function go(e,t){try{await M(e,t)}catch(n){if(ae(n))oe(n,!0);else throw n}}function po(e){Xr(e.urlPathname),[...document.getElementsByTagName("A")].forEach(n=>{if(Re.linkPrefetchHandlerAdded.has(n))return;Re.linkPrefetchHandlerAdded.set(n,!0);const r=n.getAttribute("href");if(rt(n)||(a(r),Qr(r)))return;const{prefetchStaticAssets:o}=Yr(e,n);if(o&&(o==="hover"&&(n.addEventListener("mouseover",()=>{ee(r)}),n.addEventListener("touchstart",()=>{ee(r)},{passive:!0})),o==="viewport")){const s=new IntersectionObserver(l=>{l.forEach(i=>{i.isIntersecting&&(ee(r),s.disconnect())})});s.observe(n)}})}async function ee(e){const t=await nt(e);let n;try{n=await ut(t)}catch{return}n!=null&&n._pageId&&await it(n._pageId,t)&&await go(n._pageId,t)}function ct(e){if(e==="preserve-scroll")return;let t;if(e==="scroll-to-top-or-hash"){const n=_o();if(n&&n!=="top"){const r=document.getElementById(n)||document.getElementsByName(n)[0];if(r){r.scrollIntoView();return}}t={x:0,y:0}}else a("x"in e&&"y"in e),t=e;ho(t)}function ho(e){const t=()=>window.scrollTo(e.x,e.y),n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),!n()&&requestAnimationFrame(()=>{t(),!n()&&setTimeout(async()=>{if(t(),n())return;const r=new Date().getTime();for(;;)if(await Qn(10),t(),n()||new Date().getTime()-r>100)return},0)}))}function _o(){let{hash:e}=window.location;return e===""?null:(a(e.startsWith("#")),e=e.slice(1),e)}function mo(){window.addEventListener("scroll",Xn(ye,Math.ceil(1e3/3)),{passive:!0}),Le(ye)}const $=T("onBrowserHistoryNavigation.ts",{previousState:G()});function yo(){window.addEventListener("popstate",e=>{const t=G(),n=t.historyState.scrollPosition||"scroll-to-top-or-hash",r=t.historyState.triggedBy==="user",o=t.urlWithoutHash===$.previousState.urlWithoutHash,s=!t.historyState.timestamp||!$.previousState.historyState.timestamp?null:t.historyState.timestamp<$.previousState.historyState.timestamp;$.previousState=t,o&&!r?window.history.state===null?(Be(),$.previousState=G()):ct(n):H({scrollTarget:n,isBackwardNavigation:s,isUserLandPushStateNavigation:r})})}function G(){return{urlWithoutHash:le({withoutHash:!0}),historyState:ce()}}function bo(){$.previousState=G()}const ft=T("scrollRestoration.ts",{});function vo(){Oe(),Le(Oe),Zn(()=>ft.initialRenderIsDone&&pe())}function Po(){ft.initialRenderIsDone=!0}function pe(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function Oe(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}const P=T("renderPageClientSide.ts",{renderCounter:0});async function H(e){var _e;const{scrollTarget:t,urlOriginal:n=le(),overwriteLastHistoryEntry:r=!1,isBackwardNavigation:o,pageContextsFromRewrite:s=[],redirectCount:l=0,isUserLandPushStateNavigation:i,isClientSideNavigation:c=!0}=e,{abortRender:d,setHydrationCanBeAborted:b,isFirstRender:f}=Ro();if(a(c===!f),wr(s.length,l),P.clientRoutingIsDisabled){U(n);return}const u=await nt(n);if(d())return;_(u,{isBackwardNavigation:o,isClientSideNavigation:c});{const p=Pr(s);_(u,p)}let m={};const C=p=>{a(p),a(!("err"in m)),a(!("errorWhileRendering"in u)),m.err=p,u.errorWhileRendering=p};if(!f){try{m={pageContextFromRoute:await ut(u)}}catch(p){C(p)}if(d())return;if(m.pageContextFromRoute){const{pageContextFromRoute:p}=m;_(u,p);let S;if(!p._pageId)S=!1;else if(S=await it(p._pageId,u),d())return;if(!S){U(n);return}const R=p._pageId&&((_e=P.previousPageContext)==null?void 0:_e._pageId)&&p._pageId===P.previousPageContext._pageId;if(i&&R)return}}const B=!f;if(B&&!P.isTransitioning){if(P.onPageTransitionStart){const p=P.onPageTransitionStart,{hookFn:S}=p;await F(()=>S(u),p)}if(P.isTransitioning=!0,d())return}if(f){a(!m.pageContextFromRoute),a(!m.err);try{m.pageContextFromHooks=await Rr(u)}catch(p){C(p)}if(d())return}else if(!m.err){const{pageContextFromRoute:p}=m;a(p),a(p._pageId),a(y(p,"_pageId","string")),_(u,p);try{m.pageContextFromHooks=await xr(u)}catch(S){C(S)}if(d())return}if("err"in m){const{err:p}=m;if(ve(p)||console.error(p),xe(p,u,f))return;if(ve(p)){const S=p;vr(p,u._isProduction,u);const R=S._pageContextAbort;if(R._urlRewrite){await H({...e,scrollTarget:"scroll-to-top-or-hash",pageContextsFromRewrite:[...s,R]});return}if(R._urlRedirect){const q=R._urlRedirect.url;if(q.startsWith("http")){window.location.href=q;return}else await H({...e,scrollTarget:"scroll-to-top-or-hash",urlOriginal:q,overwriteLastHistoryEntry:!1,isBackwardNavigation:!1,redirectCount:l+1});return}a(R.abortStatusCode),_(u,R),R.abortStatusCode===404&&_(u,{is404:!0})}else _(u,{is404:!1});try{m.pageContextFromHooks=await Or(u)}catch(S){if(xe(S,u,f)||(f||setTimeout(()=>{window.location.pathname=n},0),qn(p,S)))return;throw S}if(d())return}const{pageContextFromHooks:he}=m;a(he),_(u,he),Q(u,"onPageTransitionStart");const dt=I(u,"onPageTransitionStart");if(P.onPageTransitionStart=dt,u.exports.hydrationCanBeAborted?b():w(!Jn(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!d()&&!(P.renderPromise&&(await P.renderPromise,a(P.renderPromise===void 0),d()))){if(So(n,r),P.previousPageContext=u,a(P.renderPromise===void 0),P.renderPromise=(async()=>{await Ct(u,!0),po(u),P.renderPromise=void 0})(),await P.renderPromise,a(P.renderPromise===void 0),f){Q(u,"onHydrationEnd");const p=I(u,"onHydrationEnd");if(p){const{hookFn:S}=p;if(await F(()=>S(u),p),d(!0))return}}if(!d(!0)){if(B){Q(u,"onPageTransitionEnd");const p=I(u,"onPageTransitionEnd");if(p){const{hookFn:S}=p;if(await F(()=>S(u),p),d(!0))return}P.isTransitioning=void 0}ct(t),pe(),Po()}}}function So(e,t){le()!==e&&(pe(),tr(e,t),bo())}function xe(e,t,n){return!!(kr(e)||wo(e,t,n))}function wo(e,t,n){if(!ae(e))return!1;if(n)throw oe(e,!1),e;return oe(e,!0),U(t.urlOriginal),!0}function oe(e,t){a(ae(e)),P.clientRoutingIsDisabled=!0,t&&console.log(e),ie(!1,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function Ro(){const e=++P.renderCounter;a(e>=1);let t=!1;return{abortRender:o=>!o&&e===1&&!t?!1:e!==P.renderCounter,setHydrationCanBeAborted:()=>{t=!0},isFirstRender:e===1}}function Ce(){return P.renderCounter}function Oo(){document.addEventListener("click",xo)}function xo(e){if(!Co(e))return;const t=Eo(e.target);if(!t)return;const n=t.getAttribute("href");if(rt(t))return;a(n),e.preventDefault();const o=![null,"false"].includes(t.getAttribute("keep-scroll-position"))?"preserve-scroll":"scroll-to-top-or-hash";H({scrollTarget:o,urlOriginal:n,isBackwardNavigation:!1})}function Co(e){return e.button===0&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey}function Eo(e){for(;e.tagName!=="A";){const{parentNode:t}=e;if(!t)return null;e=t}return e}function To(){vo(),Be(),mo(),rr(),a(Ce()===0),H({scrollTarget:"preserve-scroll",isBackwardNavigation:null,isClientSideNavigation:!1}),a(Ce()===1),Oo(),yo()}L();const ko=!0;Et(ko);To();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/entries/src_blog_2023_10_first-blog.page.CH3M5iOA.js","assets/chunks/chunk-zQavgIRI.js","assets/entries/src_dialog-tree_index.page.M3gf_Jim.js","assets/chunks/chunk-m2EXufmb.js","assets/chunks/chunk-VmWf5zw0.js","assets/chunks/chunk-5-cIlDoe.js","assets/chunks/chunk-9rAokE7f.js","assets/entries/src_fretboard_index.page.ptdU3mNd.js","assets/chunks/chunk-x3n3nnut.js","assets/static/index.2y8lIOKe.css","assets/entries/src_pages_index.page.vmYMIjF3.js","assets/entries/src_pages_projects.page.T_jiuT4o.js","assets/entries/src_pages_publications.page.tlhPHAJm.js","assets/entries/src_slides_bevy.page.LnlcqJg_.js","assets/chunks/chunk-4VtuNNwy.js","assets/chunks/chunk-OO0dnDxZ.js","assets/static/base.6XhkqIdc.css","assets/static/index.5uffVASo.css","assets/entries/src_slides_devops.page.yuxmvARr.js","assets/entries/src_slides_interview.page.rTLAIZM5.js","assets/entries/src_slides_llm-research.page.0F5IWs_4.js","assets/entries/src_slides_open-source-llms.page.ZiysPJan.js","assets/entries/src_slides_project.page._Xoh5CiH.js","assets/entries/src_slides_resume.page.beQ8Y0kF.js","assets/entries/src_slides_rust-for-work.page.v5ecm8P9.js","assets/entries/src_slides_studio.page.ArPgSZCn.js","assets/entries/src_slides_www23-promo.page.sN_5iDAR.js","assets/entries/src_slides_www23.page.KoaLZ5TQ.js","assets/entries/src_vslides-live_index.page.QgWVkfBV.js","assets/entries/src_words_index.page.Ylqd-Je-.js","assets/entries/vpage_renderer_error.page.VhdWRMnZ.js","assets/entries/vpage_renderer_default.page.client.WsrmzshW.js","assets/static/default.page.7uiTs3Kr.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}